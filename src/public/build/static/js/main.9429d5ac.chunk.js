(this.webpackJsonpadmin=this.webpackJsonpadmin||[]).push([[0],{14:function(e){e.exports=JSON.parse('{"PRIMARY_RED":"#FF2D2D","PRIMARY_WHITE":"#F2F2F2","PRIMARY_DARK":"#080808"}')},57:function(e,t,a){e.exports=a.p+"static/media/shopdharan-white.24657495.png"},73:function(e,t,a){e.exports=a.p+"static/media/shopdharan.f6198331.png"},85:function(e,t,a){e.exports=a(98)},90:function(e,t,a){},91:function(e,t,a){},98:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(17),l=a.n(c),i=(a(90),a(91),a(3)),o=a.n(i),u=a(6),s=a(9),p=a(137),m=a(157),d=a(142);function b(){var e=Object(n.useState)(localStorage.getItem("refreshToken")),t=Object(u.a)(e,2),a=t[0],r=t[1];return Object(n.useEffect)((function(){localStorage.setItem("refreshToken",a)}),[a]),[a,r]}function f(){var e=Object(n.useState)(sessionStorage.getItem("accessToken")),t=Object(u.a)(e,2),a=t[0],r=t[1];return Object(n.useEffect)((function(){sessionStorage.setItem("accessToken",a)}),[a]),[a,r]}function E(e){return v.apply(this,arguments)}function v(){return(v=Object(s.a)(o.a.mark((function e(t){var a,n,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={refreshToken:t},e.next=3,fetch("/api/token",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(a)});case 3:if((n=e.sent).ok){e.next=6;break}throw n.statusText;case 6:return e.next=8,n.json();case 8:return r=e.sent,e.abrupt("return",r.accessToken);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var g=r.a.createContext(),h=r.a.createContext();function y(){var e=Object(n.useContext)(h),t=Object(u.a)(e,2);return{isLoggedIn:t[0],setIsLoggedIn:t[1]}}function O(e){var t=e.children,a=Object(n.useState)(!0),c=Object(u.a)(a,2),l=c[0],i=c[1],o=Object(n.useState)(!1),s=Object(u.a)(o,2),p=s[0],m=s[1],d=b(),v=Object(u.a)(d,2),y=v[0],O=(v[1],f()),j=Object(u.a)(O,2),w=(j[0],j[1]);return Object(n.useEffect)((function(){if(null==y)return i(!1),void m(!1);E(y).then((function(e){i(!1),m(!0),w(e)})).catch((function(e){console.log(e),i(!1),m(!1)}))}),[]),r.a.createElement(g.Provider,{value:l},r.a.createElement(h.Provider,{value:[p,m]},t))}var j=a(14),w=a(133),x=Object(w.a)({fullscreen:{display:"flex",flexDirection:"column",backgroundColor:j.PRIMARY_WHITE,flex:1,alignItems:"center",minHeight:"100vh"}});function _(e){var t=e.children,a=x();return r.a.createElement("div",{className:a.fullscreen},t)}var k=a(42),C=a(73),S=a.n(C),T=a(57),N=a.n(T),I=Object(w.a)({logo:{width:"80vmin",padding:5,objectFit:"contain"}});function R(e){var t=e.variant,a=void 0===t?"white":t,n=Object(k.a)(e,["variant"]),c=I(),l="white"==a.toLowerCase()?N.a:S.a;return r.a.createElement("img",Object.assign({src:l,className:c.logo},n))}var P=a(99);function A(e){var t=e.children;return r.a.createElement(P.a,{color:"primary"},t)}function D(e,t){return Y.apply(this,arguments)}function Y(){return(Y=Object(s.a)(o.a.mark((function e(t,a){var n,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={username:t,password:a},e.next=3,fetch("/api/admin/login",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(n)});case 3:if((r=e.sent).ok){e.next=8;break}return e.next=7,r.text();case 7:throw e.sent;case 8:return e.next=10,r.json();case 10:return e.abrupt("return",e.sent);case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function L(){var e=Object(n.useState)(""),t=Object(u.a)(e,2),a=t[0],c=t[1],l=Object(n.useState)(""),i=Object(u.a)(l,2),E=i[0],v=i[1],g=Object(n.useState)(!1),h=Object(u.a)(g,2),O=h[0],j=h[1],w=Object(n.useState)(""),x=Object(u.a)(w,2),k=x[0],C=x[1],S=b(),T=Object(u.a)(S,2),N=(T[0],T[1]),I=f(),P=Object(u.a)(I,2),Y=(P[0],P[1]),L=y(),W=(L.isLoggedIn,L.setIsLoggedIn),F=function(){var e=Object(s.a)(o.a.mark((function e(){var t,n,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,C(""),j(!0),e.next=5,D(a,E);case 5:t=e.sent,n=t.accessToken,r=t.refreshToken,j(!1),N(r),Y(n),W(!0),e.next=18;break;case 14:e.prev=14,e.t0=e.catch(0),j(!1),C(e.t0);case 18:case"end":return e.stop()}}),e,null,[[0,14]])})));return function(){return e.apply(this,arguments)}}(),M=function(){return O?r.a.createElement(p.a,null):null},U=function(){return k?r.a.createElement(A,null,k):null};return r.a.createElement(_,null,r.a.createElement(R,null),r.a.createElement(M,null),r.a.createElement(U,null),r.a.createElement(m.a,{label:"Username",variant:"outlined",value:a,onChange:function(e){c(e.target.value)},style:{margin:"1rem",width:"80vmin"},required:!0}),r.a.createElement(m.a,{label:"Password",variant:"outlined",type:"password",value:E,onChange:function(e){v(e.target.value)},style:{margin:"1rem",width:"80vmin"},required:!0}),r.a.createElement(d.a,{color:"primary",variant:"contained",style:{margin:"1rem",width:"80vmin"},onClick:F},"Login"))}var W=Object(w.a)({fullscreen:{display:"flex",flexDirection:"column",backgroundColor:j.PRIMARY_RED,flex:1,alignItems:"center",justifyContent:"center",minHeight:"100vh"}});function F(e){var t=e.children,a=W();return r.a.createElement("div",{className:a.fullscreen},t)}function M(){return r.a.createElement("img",{src:N.a,className:"logo"})}function U(){return r.a.createElement(F,null,r.a.createElement(M,null),r.a.createElement(p.a,{color:"secondary"}))}var q=a(11),G=a(18),B=a(143),z=Object(w.a)({nav:{display:"flex",minHeight:"3em",alignItems:"center",justifyContent:"space-between",marginBottom:"1em",backgroundColor:j.PRIMARY_RED,width:"100%"},title:{marginLeft:"auto",marginRight:"auto",color:j.PRIMARY_WHITE,fontSize:"25px",fontWeight:"bold"}});function H(e){var t=e.title,a=void 0===t?"Shop Dharan":t,n=Object(G.f)(),c=z();return r.a.createElement("nav",{className:c.nav},r.a.createElement(B.a,{onClick:n.goBack,color:"secondary",fontSize:"large"}),r.a.createElement("div",{className:c.title},a))}var V=a(5);function J(e){return Z.apply(this,arguments)}function Z(){return(Z=Object(s.a)(o.a.mark((function e(t){var a,n,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={accessToken:t},e.next=3,fetch("/api/validate",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(a)});case 3:if((n=e.sent).ok){e.next=6;break}throw n.statusText;case 6:return e.next=8,n.json();case 8:return r=e.sent,e.abrupt("return",r.valid);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function $(){return K.apply(this,arguments)}function K(){return(K=Object(s.a)(o.a.mark((function e(){var t,a,n,r,c,l,i=arguments;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=i.length>0&&void 0!==i[0]?i[0]:"POST",a=i.length>1?i[1]:void 0,n=i.length>2?i[2]:void 0,r=sessionStorage.getItem("accessToken"),c=localStorage.getItem("refreshToken"),e.next=7,J(r);case 7:if(e.sent){e.next=13;break}return e.next=11,E(c);case 11:r=e.sent,sessionStorage.setItem("accessToken",r);case 13:return l={method:t,headers:{authorization:"bearer ".concat(r),"content-type":"application/json"}},n&&"GET"!==t&&(l=Object(V.a)(Object(V.a)({},l),{},{body:JSON.stringify(n)})),e.next=17,fetch(a,l);case 17:return e.abrupt("return",e.sent);case 18:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Q=r.a.createContext(),X=r.a.createContext(),ee=r.a.createContext(),te="setall",ae="setname",ne="setusername",re="setemail",ce="toggleadmin";function le(e,t){switch(t.type){case te:return Object(V.a)({},t.payload);case ae:return Object(V.a)(Object(V.a)({},e),{},{employee_name:t.payload});case ne:return Object(V.a)(Object(V.a)({},e),{},{username:t.payload});case re:return Object(V.a)(Object(V.a)({},e),{},{email:t.payload});case ce:return Object(V.a)(Object(V.a)({},e),{},{is_admin:!e.is_admin});default:return e}}function ie(){var e=Object(n.useContext)(Q),t=Object(u.a)(e,2);return{state:t[0],dispatch:t[1]}}function oe(e){var t=e.employee_id,a=e.children,c="/api/employees/get?employee_id=".concat(t),l=Object(n.useReducer)(le,{employee_name:"",is_admin:!1,username:"",email:""}),i=Object(u.a)(l,2),p=i[0],m=i[1],d=Object(n.useState)(!1),b=Object(u.a)(d,2),f=b[0],E=b[1],v=Object(n.useState)(""),g=Object(u.a)(v,2),h=g[0],y=g[1];return Object(n.useEffect)((function(){(function(){var e=Object(s.a)(o.a.mark((function e(){var t,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return E(!0),e.next=3,$("GET",c);case 3:if((t=e.sent).ok){e.next=6;break}throw t.statusText;case 6:return e.next=8,t.json();case 8:a=e.sent,m({type:te,payload:a}),E(!1);case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()().catch((function(e){E(!1),y(e)}))}),[c]),r.a.createElement(Q.Provider,{value:[p,m]},r.a.createElement(X.Provider,{value:[f,E]},r.a.createElement(ee.Provider,{value:[h,y]},a)))}function ue(e){var t=e.onClickOk,a=e.onClickCancel,n=e.okLabel,c=void 0===n?"Ok":n,l=e.cancelLabel,i=void 0===l?"Cancel":l;return r.a.createElement("div",{className:"button-container",style:{width:"100%"}},r.a.createElement(d.a,{color:"primary",variant:"text",onClick:a},i),r.a.createElement(d.a,{color:"primary",variant:"contained",onClick:t},c))}function se(e){return e.loading?r.a.createElement(p.a,{color:"primary"}):null}function pe(e){var t=e.errors,a=void 0===t?[]:t;return a.length>0?a.map((function(e,t){return r.a.createElement(A,{key:t},e.toString())})):null}var me=a(156),de=a(144),be=a(145);function fe(e){var t=e.checked,a=e.onChange,n=e.label;return r.a.createElement(de.a,null,r.a.createElement(be.a,{control:r.a.createElement(me.a,{checked:t,onChange:a,color:"primary"}),label:n}))}var Ee=Object(w.a)({button:{margin:"1rem",width:"80vmin"}});function ve(){var e=Ee(),t=ie(),a=t.state,n=t.dispatch;return r.a.createElement(r.a.Fragment,null,r.a.createElement(m.a,{label:"Name",variant:"outlined",className:e.button,value:a.employee_name,onChange:function(e){return n({type:ae,payload:e.target.value})},required:!0}),r.a.createElement(m.a,{label:"Username",variant:"outlined",className:e.button,value:a.username,onChange:function(e){return n({type:ne,payload:e.target.value})},required:!0}),r.a.createElement(m.a,{label:"Email",variant:"outlined",type:"Email",className:e.button,value:a.email,onChange:function(e){return n({type:re,payload:e.target.value})},required:!0}),r.a.createElement(fe,{label:"Admin",checked:a.is_admin,onChange:function(e){return n({type:ce})}}))}function ge(e){var t=e.employee_id;return r.a.createElement(oe,{employee_id:t},r.a.createElement(he,{employee_id:t}))}function he(e){var t=e.employee_id,a=function(){var e=Object(n.useContext)(X),t=Object(u.a)(e,2);return{loading:t[0],setLoading:t[1]}}().loading,c=function(){var e=Object(n.useContext)(ee),t=Object(u.a)(e,2);return{err:t[0],setErr:t[1]}}().err,l=ie().state,i=Object(G.f)(),p=function(){var e=Object(s.a)(o.a.mark((function e(){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(window.confirm("Are You Sure You Want To Delete this Account?")){e.next=3;break}return e.abrupt("return");case 3:return"/api/employees/delete",a={employee_id:t},e.next=7,$("DELETE","/api/employees/delete",a);case 7:if(!e.sent.ok){e.next=12;break}return alert("Employee Deleted"),i.goBack(),e.abrupt("return");case 12:alert("Failed To Delete");case 13:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),m=function(){var e=Object(s.a)(o.a.mark((function e(){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(window.confirm("Are You Sure You Want To Update")){e.next=3;break}return e.abrupt("return");case 3:return a=Object(V.a)(Object(V.a)({},l),{},{employee_id:t}),"/api/employees/update",e.next=7,$("PUT","/api/employees/update",a);case 7:if(!e.sent.ok){e.next=11;break}return alert("Employee Updated"),e.abrupt("return");case 11:alert("Failed To Upload");case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return a?r.a.createElement(se,{loading:!0}):c?r.a.createElement(pe,{errors:[c]}):r.a.createElement(r.a.Fragment,null,r.a.createElement(ue,{onClickOk:m,okLabel:"Update",onClickCancel:p,cancelLabel:"Delete"}),r.a.createElement(ve,null))}function ye(){var e=Object(G.g)().id;return r.a.createElement(_,null,r.a.createElement(H,{title:"Employee"}),r.a.createElement(ge,{employee_id:e}))}function Oe(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(q.b,{to:"/employees",className:"white-text-bold"}," Employees"),r.a.createElement(q.b,{to:"/cities",className:"white-text-bold"}," Cities"),r.a.createElement(q.b,{to:"/catagories",className:"white-text-bold"}," Catagories"),r.a.createElement(q.b,{to:"/suppliers",className:"white-text-bold"}," Suppliers"),r.a.createElement(q.b,{to:"/orders",className:"white-text-bold"}," Orders"))}function je(){return r.a.createElement(F,null,r.a.createElement(M,null),r.a.createElement(Oe,null))}var we=a(160),xe=a(146),_e=a(141),ke=a(147),Ce=a(148),Se=a(149),Te=a(150),Ne=a(151);function Ie(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"GET",t=arguments.length>1?arguments[1]:void 0,a=arguments.length>2?arguments[2]:void 0,r=Object(n.useState)(!0),c=Object(u.a)(r,2),l=c[0],i=c[1],p=Object(n.useState)(),m=Object(u.a)(p,2),d=m[0],v=m[1],g=Object(n.useState)(""),h=Object(u.a)(g,2),y=h[0],O=h[1],j=f(),w=Object(u.a)(j,2),x=w[0],_=w[1],k=b(),C=Object(u.a)(k,1),S=C[0];return Object(n.useEffect)((function(){var n=function(){var e=Object(s.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,J(x);case 2:if(!e.sent){e.next=5;break}return e.abrupt("return");case 5:return e.next=7,E(S);case 7:t=e.sent,_(t);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),r=function(){var n=Object(s.a)(o.a.mark((function n(){var r,c,l;return o.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r={method:e,headers:{authorization:"bearer ".concat(x),"content-type":"application/json"}},a&&(r=Object(V.a)(Object(V.a)({},r),{},{body:JSON.stringify(a)})),n.next=4,fetch(t,r);case 4:if((c=n.sent).ok){n.next=9;break}return O(c.statusText),i(!1),n.abrupt("return");case 9:return n.next=11,c.json();case 11:l=n.sent,v(l),i(!1);case 14:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();i(!0),n().then((function(){r()})).catch((function(e){O(e),i(!1)}))}),[t,a]),{loading:l,result:d,err:y}}Object(w.a)({container:{maxWidth:1e3,width:"90%",margin:10},table:{width:"100%"},head:{backgroundColor:j.PRIMARY_RED,color:j.PRIMARY_WHITE,fontWeight:"bolder"}});var Re=a(28);function Pe(e){return/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(String(e).toLowerCase())}function Ae(e){return e.length>=6}r.a.createContext(),r.a.createContext(),r.a.createContext();Object(w.a)({button:{margin:"1rem",width:"80vmin"},wrapper:{display:"flex",flexDirection:"column",padding:"1em",alignItems:"center"}});Object(w.a)({button:{margin:"1rem",width:"80vmin"},wrapper:{display:"flex",flexDirection:"column",padding:"1em",alignItems:"center"}});Object(w.a)((function(e){return{backdrop:{zIndex:e.zIndex.drawer+1,color:"#fff"}}}));function De(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"GET",t=arguments.length>1?arguments[1]:void 0,a=arguments.length>2?arguments[2]:void 0,r=Object(n.useState)(!0),c=Object(u.a)(r,2),l=c[0],i=c[1],p=Object(n.useState)(),m=Object(u.a)(p,2),d=m[0],b=m[1],f=Object(n.useState)(""),E=Object(u.a)(f,2),v=E[0],g=E[1];return Object(n.useEffect)((function(){var n=function(){var n=Object(s.a)(o.a.mark((function n(){var r,c,l;return o.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r={method:e,headers:{"content-type":"application/json"}},a&&(r=Object(V.a)(Object(V.a)({},r),{},{body:JSON.stringify(a)})),n.next=4,fetch(t,r);case 4:if((c=n.sent).ok){n.next=9;break}return g(c.statusText),i(!1),n.abrupt("return");case 9:return n.next=11,c.json();case 11:l=n.sent,b(l),i(!1);case 14:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();i(!0),n().catch((function(e){g(e),i(!1)}))}),[t,a]),{loading:l,result:d,err:v}}function Ye(){var e=De("GET","/api/cities/getall");return{loading:e.loading,result:e.result,err:e.err}}function Le(e){return We.apply(this,arguments)}function We(){return(We=Object(s.a)(o.a.mark((function e(t){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"/api/cities/add",e.next=3,$("POST","/api/cities/add",{city_name:t});case 3:return a=e.sent,e.abrupt("return",a.ok);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Fe=Object(w.a)({container:{maxWidth:1e3,width:"90%",margin:10},table:{width:"100%"},head:{backgroundColor:j.PRIMARY_RED,color:j.PRIMARY_WHITE,fontWeight:"bolder"}});function Me(e){var t=e.match,a=Ye(),n=a.loading,c=a.result,l=a.err,i=Fe(),u=Object(G.f)(),m=function(){var e=Object(s.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=window.prompt("City Name")){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,Le(t);case 5:if(!e.sent){e.next=9;break}return alert("City Added"),e.abrupt("return");case 9:alert("Failed To Add City");case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),b=function(){return r.a.createElement(xe.a,{component:_e.a,className:i.container},r.a.createElement(ke.a,{"aria-label":"employee table",className:i.table},r.a.createElement(Ce.a,{className:i.head},r.a.createElement(Se.a,null,r.a.createElement(Te.a,{align:"center",className:i.head},"No."),r.a.createElement(Te.a,{align:"center",className:i.head},"City Name"))),r.a.createElement(Ne.a,null,c.map((function(e,a){return r.a.createElement(Se.a,{key:e.city_id,onClick:function(){u.push("".concat(t.url,"/").concat(e.city_id))}},r.a.createElement(Te.a,{component:"th",scope:"row",align:"center"},a+1),r.a.createElement(Te.a,{align:"center"},e.city_name))})))))},f=function(){return n?r.a.createElement(p.a,{color:"primary"}):l?r.a.createElement(A,null," ",l," "):r.a.createElement(b,null)};return r.a.createElement(_,null,r.a.createElement(H,{title:"Cities"}),r.a.createElement(d.a,{color:"primary",onClick:m}," Add City "),r.a.createElement(f,null))}var Ue=a(24);var qe=Object(w.a)({container:{maxWidth:1e3,width:"90%",margin:10},table:{width:"100%"},head:{backgroundColor:j.PRIMARY_RED,color:j.PRIMARY_WHITE,fontWeight:"bolder"}});function Ge(e){var t=function(e){var t=e.visible,a=e.city_id,n=e.catagory_id,r=e.supplier_name,c=new URLSearchParams;a&&c.append("city_id",a),null!=t&&c.append("visible",t),n&&c.append("catagory_id",n),r&&c.append("supplier_name",r);var l=De("GET","/api/suppliers/getall?".concat(c));return{err:l.err,loading:l.loading,result:l.result}}({visible:e.visible,supplier_name:e.supplier_name,catagory_id:e.catagory_id,city_id:e.city_id}),a=t.err,n=t.loading,c=t.result,l=qe(),i=Object(G.f)();return n?r.a.createElement(p.a,{color:"primary"}):a?r.a.createElement(A,null," ",a," "):r.a.createElement(xe.a,{component:_e.a,className:l.container},r.a.createElement(ke.a,{"aria-label":"employee table",className:l.table},r.a.createElement(Ce.a,{className:l.head},r.a.createElement(Se.a,null,r.a.createElement(Te.a,{align:"center",className:l.head},"Name"),r.a.createElement(Te.a,{align:"center",className:l.head},"Description"),r.a.createElement(Te.a,{align:"center",className:l.head},"Number"),r.a.createElement(Te.a,{align:"center",className:l.head},"Visible"))),r.a.createElement(Ne.a,null,c.map((function(e){return r.a.createElement(Se.a,{key:e.supplier_id,onClick:function(){i.push("/suppliers/".concat(e.supplier_id))}},r.a.createElement(Te.a,{component:"th",scope:"row",align:"center"},e.supplier_name),r.a.createElement(Te.a,{align:"center"},e.supplier_description),r.a.createElement(Te.a,{align:"center"},e.contact_number),r.a.createElement(Te.a,{align:"center"},e.visible?"True":"False"))})))))}function Be(e){return ze.apply(this,arguments)}function ze(){return(ze=Object(s.a)(o.a.mark((function e(t){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"/api/cities/delete",e.next=3,$("DELETE","/api/cities/delete",{city_id:t});case 3:return a=e.sent,e.abrupt("return",a.ok);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function He(e,t){return Ve.apply(this,arguments)}function Ve(){return(Ve=Object(s.a)(o.a.mark((function e(t,a){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"/api/cities/update",e.next=3,$("PUT","/api/cities/update",{city_id:t,city_name:a});case 3:return n=e.sent,e.abrupt("return",n.ok);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Je=Object(w.a)({button:{margin:"1rem",width:"80vmin"}});function Ze(){var e=Object(G.g)().id,t="/api/cities/get?city_id=".concat(e),a=Je(),c=Object(n.useState)(!1),l=Object(u.a)(c,2),i=l[0],b=l[1],f=Object(n.useState)(""),E=Object(u.a)(f,2),v=E[0],g=E[1],h=Object(n.useState)(""),y=Object(u.a)(h,2),O=y[0],j=y[1],w=Object(n.useState)("City"),x=Object(u.a)(w,2),k=x[0],C=x[1],S=Object(G.f)();Object(n.useEffect)((function(){(function(){var e=Object(s.a)(o.a.mark((function e(){var a,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return b(!0),e.next=3,$("GET",t);case 3:return a=e.sent,e.next=6,a.json();case 6:n=e.sent,j(n.city_name),b(!1),C(n.city_name);case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()().catch((function(e){return g(e)}))}),[]);var T=function(){var t,n=function(){var t=Object(s.a)(o.a.mark((function t(){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(window.confirm("Are You Sure You Want To Delete This City?")){t.next=3;break}return t.abrupt("return");case 3:return t.next=5,Be(e);case 5:if(!t.sent){t.next=10;break}return window.alert("City Deleted"),S.goBack(),t.abrupt("return");case 10:window.alert("Failed to Delete");case 11:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),c=function(){var t=Object(s.a)(o.a.mark((function t(){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(window.confirm("Are You Sure You Want To Update")){t.next=3;break}return t.abrupt("return");case 3:return t.next=5,He(e,O);case 5:if(!t.sent){t.next=10;break}return window.alert("City Updated"),S.goBack(),t.abrupt("return");case 10:window.alert("Failed To Update");case 11:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return r.a.createElement("div",{className:"button-container"},r.a.createElement(d.a,{color:"primary",onClick:n},"Delete"),r.a.createElement(m.a,(t={value:O,label:"Name",variant:"outlined",className:a.button},Object(Ue.a)(t,"value",O),Object(Ue.a)(t,"autoFocus",!0),Object(Ue.a)(t,"onChange",(function(e){j(e.target.value)})),Object(Ue.a)(t,"required",!0),t)),r.a.createElement(d.a,{color:"primary",variant:"contained",onClick:c},"Update"))},N=function(){return i?r.a.createElement(p.a,{color:"primary"}):v?r.a.createElement(A,null," ",v," "):r.a.createElement(T,null)};return r.a.createElement(_,null,r.a.createElement(H,{title:k}),r.a.createElement(N,null),r.a.createElement("h2",null," Suppliers "),r.a.createElement(Ge,{city_id:e}))}function $e(e){var t=e.match;return r.a.createElement(q.a,null,r.a.createElement(G.c,null,r.a.createElement(G.a,{exact:!0,path:"".concat(t.url,"/"),component:Me}),r.a.createElement(G.a,{exact:!0,path:"".concat(t.url,"/:id"),component:Ze})))}function Ke(){var e=De("GET","/api/catagories/getall");return{loading:e.loading,result:e.result,err:e.err}}function Qe(e){return Xe.apply(this,arguments)}function Xe(){return(Xe=Object(s.a)(o.a.mark((function e(t){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"/api/catagories/add",e.next=3,$("POST","/api/catagories/add",{catagory_name:t});case 3:return a=e.sent,e.abrupt("return",a.ok);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var et=Object(w.a)({container:{maxWidth:1e3,width:"90%",margin:10},table:{width:"100%"},head:{backgroundColor:j.PRIMARY_RED,color:j.PRIMARY_WHITE,fontWeight:"bolder"}});function tt(e){var t=e.match,a=Ke(),n=a.loading,c=a.result,l=a.err,i=et(),u=Object(G.f)(),m=function(){var e=Object(s.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=window.prompt("Catagory Name")){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,Qe(t);case 5:if(!e.sent){e.next=9;break}return alert("Catagory Added"),e.abrupt("return");case 9:alert("Failed To Add Catagory");case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),b=function(){return r.a.createElement(xe.a,{component:_e.a,className:i.container},r.a.createElement(ke.a,{"aria-label":"employee table",className:i.table},r.a.createElement(Ce.a,{className:i.head},r.a.createElement(Se.a,null,r.a.createElement(Te.a,{align:"center",className:i.head},"No."),r.a.createElement(Te.a,{align:"center",className:i.head},"Catagory Name"))),r.a.createElement(Ne.a,null,c.map((function(e,a){return r.a.createElement(Se.a,{key:e.catagory_id,onClick:function(){u.push("".concat(t.url,"/").concat(e.catagory_id))}},r.a.createElement(Te.a,{component:"th",scope:"row",align:"center"},a+1),r.a.createElement(Te.a,{align:"center"},e.catagory_name))})))))},f=function(){return n?r.a.createElement(p.a,{color:"primary"}):l?r.a.createElement(A,null," ",l," "):r.a.createElement(b,null)};return r.a.createElement(_,null,r.a.createElement(H,{title:"Catagories"}),r.a.createElement(d.a,{color:"primary",onClick:m}," Add Catagory "),r.a.createElement(f,null))}function at(e){return nt.apply(this,arguments)}function nt(){return(nt=Object(s.a)(o.a.mark((function e(t){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"/api/catagories/delete",e.next=3,$("DELETE","/api/catagories/delete",{catagory_id:t});case 3:return a=e.sent,e.abrupt("return",a.ok);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function rt(e,t){return ct.apply(this,arguments)}function ct(){return(ct=Object(s.a)(o.a.mark((function e(t,a){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"/api/catagories/update",e.next=3,$("PUT","/api/catagories/update",{catagory_id:t,catagory_name:a});case 3:return n=e.sent,e.abrupt("return",n.ok);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var lt=Object(w.a)({button:{margin:"1rem",width:"80vmin"}});function it(){var e=Object(G.g)().id,t="/api/catagories/get?catagory_id=".concat(e),a=lt(),c=Object(n.useState)(!1),l=Object(u.a)(c,2),i=l[0],b=l[1],f=Object(n.useState)(""),E=Object(u.a)(f,2),v=E[0],g=E[1],h=Object(n.useState)(""),y=Object(u.a)(h,2),O=y[0],j=y[1],w=Object(n.useState)("Catagory"),x=Object(u.a)(w,2),k=x[0],C=x[1],S=Object(G.f)();Object(n.useEffect)((function(){(function(){var e=Object(s.a)(o.a.mark((function e(){var a,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return b(!0),e.next=3,$("GET",t);case 3:return a=e.sent,e.next=6,a.json();case 6:n=e.sent,j(n.catagory_name),b(!1),C(n.catagory_name);case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()().catch((function(e){return g(e)}))}),[]);var T=function(){var t,n=function(){var t=Object(s.a)(o.a.mark((function t(){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(window.confirm("Are You Sure You Want To Delete This Catagory?")){t.next=3;break}return t.abrupt("return");case 3:return t.next=5,at(e);case 5:if(!t.sent){t.next=10;break}return window.alert("Catagory Deleted"),S.goBack(),t.abrupt("return");case 10:window.alert("Failed to Delete");case 11:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),c=function(){var t=Object(s.a)(o.a.mark((function t(){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(window.confirm("Are You Sure You Want To Update")){t.next=3;break}return t.abrupt("return");case 3:return t.next=5,rt(e,O);case 5:if(!t.sent){t.next=10;break}return window.alert("Catagory Updated"),S.goBack(),t.abrupt("return");case 10:window.alert("Failed To Update");case 11:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return r.a.createElement("div",{className:"button-container"},r.a.createElement(d.a,{color:"primary",onClick:n},"Delete"),r.a.createElement(m.a,(t={value:O,label:"Name",variant:"outlined",className:a.button},Object(Ue.a)(t,"value",O),Object(Ue.a)(t,"autoFocus",!0),Object(Ue.a)(t,"onChange",(function(e){j(e.target.value)})),Object(Ue.a)(t,"required",!0),t)),r.a.createElement(d.a,{color:"primary",variant:"contained",onClick:c},"Update"))},N=function(){return i?r.a.createElement(p.a,{color:"primary"}):v?r.a.createElement(A,null," ",v," "):r.a.createElement(T,null)};return r.a.createElement(_,null,r.a.createElement(H,{title:k}),r.a.createElement(N,null),r.a.createElement("h2",null," Suppliers "),r.a.createElement(Ge,{catagory_id:e}))}function ot(e){var t=e.match;return r.a.createElement(q.a,null,r.a.createElement(G.c,null,r.a.createElement(G.a,{exact:!0,path:"".concat(t.url,"/"),component:tt}),r.a.createElement(G.a,{exact:!0,path:"".concat(t.url,"/:id"),component:it})))}var ut=a(140),st=a(159),pt=a(155),mt=a(161),dt=Object(w.a)((function(e){return{formControl:{margin:e.spacing(1),minWidth:120}}}));function bt(e){var t=e.label,a=e.options,c=void 0===a?[]:a,l=e.selection,i=void 0===l?{value:"All"}:l,o=e.setSelection,s=dt(),p=Object(n.useState)(i.id),m=Object(u.a)(p,2),d=m[0],b=m[1];return Object(n.useEffect)((function(){o(i.id)}),[]),r.a.createElement(ut.a,{className:s.formControl},r.a.createElement(st.a,{id:"demo-simple-select-label"},t),r.a.createElement(pt.a,{labelId:t,value:d,onChange:function(e){b(e.target.value),o(e.target.value)}},i.id?null:r.a.createElement(mt.a,{value:i.id},String(i.value)),c.map((function(e){return r.a.createElement(mt.a,{key:e.id,value:e.id},String(e.value))}))))}var ft=r.a.createContext(),Et=r.a.createContext(),vt=r.a.createContext(),gt=r.a.createContext(),ht="supplier",yt="city",Ot="email",jt="description",wt="togglevisibility",xt="password",_t="repassword",kt="catagory",Ct="contact";function St(e,t){switch(t.type){case ht:return Object(V.a)(Object(V.a)({},e),{},{supplier_name:t.payload});case yt:return Object(V.a)(Object(V.a)({},e),{},{city_id:t.payload});case Ot:return Object(V.a)(Object(V.a)({},e),{},{email_id:t.payload});case wt:return Object(V.a)(Object(V.a)({},e),{},{visible:!e.visible});case xt:return Object(V.a)(Object(V.a)({},e),{},{password:t.payload});case jt:return Object(V.a)(Object(V.a)({},e),{},{supplier_description:t.payload});case _t:return Object(V.a)(Object(V.a)({},e),{},{repassword:t.payload});case kt:return Object(V.a)(Object(V.a)({},e),{},{catagory_id:t.payload});case Ct:return Object(V.a)(Object(V.a)({},e),{},{contact_number:t.payload});default:return e}}function Tt(){var e=Object(n.useContext)(ft),t=Object(u.a)(e,2);return{state:t[0],dispatch:t[1]}}function Nt(){var e=Object(n.useContext)(Et),t=Object(u.a)(e,2);return{file:t[0],setFile:t[1]}}function It(e){var t=e.children,a=Object(n.useReducer)(St,{supplier_name:"",city_id:"",email_id:"",supplier_description:"",visible:!1,password:"",repassword:"",catagory_id:"",contact_number:""}),c=Object(u.a)(a,2),l=c[0],i=c[1],o=Object(n.useState)(!1),s=Object(u.a)(o,2),p=s[0],m=s[1],d=Object(n.useState)([]),b=Object(u.a)(d,2),f=b[0],E=b[1],v=Object(n.useState)(),g=Object(u.a)(v,2),h=g[0],y=g[1];return r.a.createElement(ft.Provider,{value:[l,i]},r.a.createElement(gt.Provider,{value:[f,E]},r.a.createElement(vt.Provider,{value:[p,m]},r.a.createElement(Et.Provider,{value:[h,y]},t))))}var Rt=a(74);function Pt(){return At.apply(this,arguments)}function At(){return(At=Object(s.a)(o.a.mark((function e(){var t,a,n,r,c,l,i,u,s,p,m=arguments;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=m.length>0&&void 0!==m[0]?m[0]:"POST",a=m.length>1?m[1]:void 0,n=m.length>2?m[2]:void 0,r=sessionStorage.getItem("accessToken"),c=localStorage.getItem("refreshToken"),e.next=7,J(r);case 7:if(e.sent){e.next=13;break}return e.next=11,E(c);case 11:r=e.sent,sessionStorage.setItem("accessToken",r);case 13:for(i in l=new FormData,n)l.append(i.toString(),n[i]);u=Object(Rt.a)(l.values());try{for(u.s();!(s=u.n()).done;)p=s.value,console.log(p)}catch(o){u.e(o)}finally{u.f()}return e.next=19,fetch(a,{method:t,headers:{authorization:"bearer ".concat(r)},body:l});case 19:return e.abrupt("return",e.sent);case 20:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Dt(e){var t=e.url,a=e.setFile,c=Object(n.useState)(t),l=Object(u.a)(c,2),i=l[0],o=l[1];return r.a.createElement(r.a.Fragment,null,i&&r.a.createElement("img",{src:i,style:{height:200,width:300,objectFit:"cover"},alt:"Logo"}),r.a.createElement("div",{style:{display:"flex",alignItems:"center",justifyItems:"center",justifyContent:"space-evenly",width:"90%"}},i&&r.a.createElement(d.a,{onClick:function(){o(),a()},color:"primary"},"Remove"),r.a.createElement(d.a,{variant:"contained",color:"primary"},r.a.createElement("label",{for:"file",id:"upload"},"Add Photo")),r.a.createElement("input",{type:"file",id:"file",accept:".jpg,.jpeg,.webp,.png",onChange:function(e){var t=e.target.files[0];o(URL.createObjectURL(t)),a(t)},hidden:!0})))}var Yt=Object(w.a)({button:{margin:"1rem",width:"80vmin"},wrapper:{display:"flex",flexDirection:"column",padding:"1em",paddingBottom:"1em",height:"80%",alignItems:"center",overflowY:"scroll"},fullcontainer:{display:"flex",width:"100%",justifyContent:"space-evenly"}});function Lt(){var e=Yt(),t=Tt(),a=t.state,n=t.dispatch,c=Nt(),l=c.file,i=c.setFile,o=Ke(),u=o.loading,s=o.result,p=(o.err,Ye()),d=p.loading,b=p.result;p.err;return d||u?r.a.createElement(se,{loading:!0}):r.a.createElement(r.a.Fragment,null,r.a.createElement(fe,{checked:a.visible,onChange:function(e){return n({type:wt})},label:"Visible"}),r.a.createElement(Dt,{file:l,setFile:i}),r.a.createElement(m.a,{label:"Name",variant:"outlined",className:e.button,value:a.supplier_name,onChange:function(e){return n({type:ht,payload:e.target.value})},required:!0}),r.a.createElement(m.a,{label:"Email",variant:"outlined",type:"email",className:e.button,value:a.email_id,onChange:function(e){return n({type:Ot,payload:e.target.value})},required:!0}),r.a.createElement(m.a,{label:"Description",variant:"outlined",multiline:!0,rows:5,className:e.button,value:a.supplier_description,onChange:function(e){return n({type:jt,payload:e.target.value})},required:!0}),r.a.createElement(m.a,{label:"Password",variant:"outlined",type:"password",className:e.button,value:a.password,onChange:function(e){return n({type:xt,payload:e.target.value})},required:!0}),r.a.createElement(m.a,{label:"Retype Password",variant:"outlined",type:"password",className:e.button,value:a.repassword,onChange:function(e){return n({type:_t,payload:e.target.value})},required:!0}),r.a.createElement(m.a,{label:"Contact Number",variant:"outlined",type:"tel",className:e.button,value:a.contact_number,onChange:function(e){return n({type:Ct,payload:e.target.value})},required:!0}),r.a.createElement("div",{className:e.fullcontainer},r.a.createElement(bt,{label:"City",setSelection:function(e){n({type:yt,payload:e})},options:b.map((function(e){return{id:e.city_id,value:e.city_name}})),selection:{id:b[0].city_id,value:b[0].city_name}}),r.a.createElement(bt,{label:"Catagory",setSelection:function(e){n({type:kt,payload:e})},options:s.map((function(e){return{id:e.catagory_id,value:e.catagory_name}})),selection:{id:s[0].catagory_id,value:s[0].catagory_name}})))}var Wt=Object(w.a)({button:{margin:"1rem",width:"80vmin"},wrapper:{display:"flex",flexDirection:"column",padding:"1em",height:"80%",alignItems:"center",overflowY:"scroll"},inside:{display:"flex",flexDirection:"column",margin:"0.5em",alignItems:"center",padding:"0.5em"}});function Ft(e){return Mt.apply(this,arguments)}function Mt(){return(Mt=Object(s.a)(o.a.mark((function e(t){var a,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"/api/suppliers/add",a=Object(V.a)({},t),e.next=4,Pt("POST","/api/suppliers/add",a);case 4:if(!(n=e.sent).ok){e.next=7;break}return e.abrupt("return",n.ok);case 7:return e.next=9,n.text();case 9:throw e.sent;case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ut(e){var t=[];return Pe(e.email_id)||(t=[].concat(Object(Re.a)(t),["Invalid Email"])),Ae(e.password)||(t=[].concat(Object(Re.a)(t),["Password should Be Atleast 6 digit long"])),e.password!==e.repassword&&(t=[].concat(Object(Re.a)(t),["Passwords Don't Match"])),t}function qt(e){var t=e.handleClose;return r.a.createElement(It,null,r.a.createElement(Gt,{handleClose:t}))}function Gt(e){var t=e.handleClose,a=Wt(),c=Tt().state,l=function(){var e=Object(n.useContext)(vt),t=Object(u.a)(e,2);return{loading:t[0],setLoading:t[1]}}(),i=l.loading,p=l.setLoading,m=function(){var e=Object(n.useContext)(gt),t=Object(u.a)(e,2);return{err:t[0],setErr:t[1]}}(),d=m.err,b=m.setErr,f=Nt().file,E=function(){var e=Object(s.a)(o.a.mark((function e(){var a,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(b([]),!((a=Ut(c)).length>0)){e.next=5;break}return b(Object(Re.a)(a)),e.abrupt("return");case 5:return e.prev=5,p(!0),e.next=9,Ft(Object(V.a)(Object(V.a)({},c),{},{file:f}));case 9:if(n=e.sent,p(!1),!n){e.next=14;break}return t(),e.abrupt("return",alert("Suppliers Added"));case 14:throw"Failed To Add Suppliers";case 17:e.prev=17,e.t0=e.catch(5),p(!1),b([String(e.t0)]);case 21:case"end":return e.stop()}}),e,null,[[5,17]])})));return function(){return e.apply(this,arguments)}}();return r.a.createElement(_e.a,{className:a.wrapper},r.a.createElement("div",{className:a.inside},r.a.createElement(se,{loading:i}),r.a.createElement(pe,{errors:d}),r.a.createElement(Lt,null),r.a.createElement(ue,{okLabel:"Add Supplier",onClickOk:E,cancelLabel:"Cancel",onClickCancel:t})))}var Bt=Object(w.a)((function(e){return{wrapper:{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"center",flexWrap:"wrap",gap:"1em"},backdrop:{zIndex:e.zIndex.drawer+1,color:"#fff"}}}));function zt(e){var t=e.open,a=e.handleClose,n=Bt();return r.a.createElement(we.a,{open:t,className:n.backdrop},r.a.createElement(qt,{handleClose:a}))}var Ht="setvisibility",Vt="setsuppliername",Jt="setcatagory",Zt="setcity";function $t(e,t){switch(t.type){case Ht:return Object(V.a)(Object(V.a)({},e),{},{visible:t.payload});case Vt:return Object(V.a)(Object(V.a)({},e),{},{supplier_name:t.payload});case Jt:return Object(V.a)(Object(V.a)({},e),{},{catagory_id:t.payload});case Zt:return Object(V.a)(Object(V.a)({},e),{},{city_id:t.payload});default:return e}}function Kt(e){e.state;var t=e.dispatch,a=Bt(),c=Ke(),l=c.loading,i=c.result,o=c.err,s=Ye(),b=s.loading,f=s.result,E=s.err,v=Object(n.useState)(""),g=Object(u.a)(v,2),h=g[0],y=g[1];return l||b?r.a.createElement(p.a,{color:"primary"}):o||E?r.a.createElement(A,null," Something Went Wrong "):r.a.createElement("div",{className:a.wrapper},r.a.createElement(bt,{label:"City",options:f.map((function(e){return{id:e.city_id,value:e.city_name}})),setSelection:function(e){return t({type:Zt,payload:e})}}),r.a.createElement(bt,{label:"Catagory",options:i.map((function(e){return{id:e.catagory_id,value:e.catagory_name}})),setSelection:function(e){return t({type:Jt,payload:e})}}),r.a.createElement(bt,{label:"Visible",options:[{id:!0,value:"True"},{id:!1,value:"False"}],setSelection:function(e){return t({type:Ht,payload:e})}}),r.a.createElement("div",{className:a.wrapper},r.a.createElement(m.a,{variant:"outlined",value:h,label:"Name",onChange:function(e){return y(e.target.value)},type:"search"}),r.a.createElement(d.a,{color:"primary",onClick:function(){return t({type:Vt,payload:h})}},"Search")))}function Qt(){var e=Object(n.useReducer)($t,{visible:null,supplier_name:"",catagory_id:"",city_id:""}),t=Object(u.a)(e,2),a=t[0],c=t[1],l=Object(n.useState)(!1),i=Object(u.a)(l,2),o=i[0],s=i[1];return r.a.createElement(_,null,r.a.createElement(H,null),r.a.createElement(Kt,{state:a,dispatch:c}),r.a.createElement(zt,{open:o,handleClose:function(){s(!1)}}),r.a.createElement(d.a,{color:"primary",onClick:function(){s(!0)}},"Add New"),r.a.createElement(Ge,{visible:a.visible,supplier_name:a.supplier_name,catagory_id:a.catagory_id,city_id:a.city_id}))}var Xt=r.a.createContext(),ea=r.a.createContext(),ta=r.a.createContext(),aa={SETALL:"setall",SETSUPPLIER:"setsupplier",SETCITY:"setcity",SETEMAIL:"setemail",TOGGLEVISIBILITY:"togglevisible",SETCATAGORY:"setcatagory",SETCONTACT:"setcontact",SETDESCRIPTION:"setdescription"};function na(e,t){switch(t.type){case aa.SETALL:return Object(V.a)({},t.payload);case aa.SETSUPPLIER:return Object(V.a)(Object(V.a)({},e),{},{supplier_name:t.payload});case aa.SETCITY:return Object(V.a)(Object(V.a)({},e),{},{city_id:t.payload});case aa.SETEMAIL:return Object(V.a)(Object(V.a)({},e),{},{email_id:t.payload});case aa.TOGGLEVISIBILITY:return Object(V.a)(Object(V.a)({},e),{},{visible:!e.visible});case aa.SETDESCRIPTION:return Object(V.a)(Object(V.a)({},e),{},{supplier_description:t.payload});case aa.SETCATAGORY:return Object(V.a)(Object(V.a)({},e),{},{catagory_id:t.payload});case aa.SETCONTACT:return Object(V.a)(Object(V.a)({},e),{},{contact_number:t.payload});default:return e}}function ra(){var e=Object(n.useContext)(Xt),t=Object(u.a)(e,2);return{state:t[0],dispatch:t[1]}}function ca(e){var t=e.supplier_id,a=e.children,c="/api/suppliers/get?supplier_id=".concat(t),l=Object(n.useReducer)(na,{supplier_name:"",image_id:"",city_id:"",email_id:"",supplier_description:"",visible:!0,catagory_id:"",contact_number:""}),i=Object(u.a)(l,2),p=i[0],m=i[1],d=Object(n.useState)(!1),b=Object(u.a)(d,2),f=b[0],E=b[1],v=Object(n.useState)(""),g=Object(u.a)(v,2),h=g[0],y=g[1];return Object(n.useEffect)((function(){(function(){var e=Object(s.a)(o.a.mark((function e(){var t,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return E(!0),e.next=3,$("GET",c);case 3:if((t=e.sent).ok){e.next=6;break}throw t.statusText;case 6:return e.next=8,t.json();case 8:a=e.sent,m({type:aa.SETALL,payload:a}),E(!1);case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()().catch((function(e){E(!1),y(e)}))}),[t]),r.a.createElement(Xt.Provider,{value:[p,m]},r.a.createElement(ea.Provider,{value:[f,E]},r.a.createElement(ta.Provider,{value:[h,y]},a)))}var la=Object(w.a)({button:{margin:"1rem",width:"80vmin"},wrapper:{display:"flex",flexDirection:"column",padding:"1em",alignItems:"center",gap:"1em"}});function ia(e){var t=e.url,a=e.handleClose,c=void 0===a?function(){}:a,l=e.object_info,i=void 0===l?{}:l,p=e.image_id,m=la(),d=Object(n.useState)(),b=Object(u.a)(d,2),f=b[0],E=b[1],v="/images/".concat(p),g=function(){var e=Object(s.a)(o.a.mark((function e(){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Pt("PUT",t,Object(V.a)({file:f},i));case 2:if((a=e.sent).ok){e.next=9;break}return e.t0=alert,e.next=7,a.text();case 7:return e.t1=e.sent,e.abrupt("return",(0,e.t0)(e.t1));case 9:alert("photo updated"),c();case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return r.a.createElement(_e.a,{className:m.wrapper},r.a.createElement(Dt,{setFile:E,url:v}),r.a.createElement(ue,{okLabel:"Update",onClickOk:g,cancelLabel:"Cancel",onClickCancel:c}))}var oa=Object(w.a)((function(e){return{button:{margin:"1rem",width:"80vmin"},wrapper:{display:"flex",flexDirection:"column",padding:"1em",paddingBottom:"1em",height:"80%",alignItems:"center",overflowY:"scroll"},fullcontainer:{display:"flex",width:"100%",justifyContent:"space-evenly"},backdrop:{zIndex:e.zIndex.drawer+1,color:"#fff"}}}));function ua(e){var t=e.open,a=e.handleClose,n=e.supplier_id,c=e.image_id,l=Object(k.a)(e,["open","handleClose","supplier_id","image_id"]),i=oa();return r.a.createElement(we.a,Object.assign({open:t,className:i.backdrop},l),r.a.createElement(ia,{handleClose:a,url:"/api/suppliers/update/photo",object_info:{supplier_id:n},image_id:c}))}function sa(e){var t=e.supplier_id,a=oa(),c=ra(),l=c.state,i=c.dispatch,o=Object(n.useState)(!1),s=Object(u.a)(o,2),p=s[0],b=s[1],f=Ke(),E=f.loading,v=f.result,g=(f.err,Ye()),h=g.loading,y=g.result;g.err;if(h||E)return r.a.createElement(se,{loading:!0});return r.a.createElement("div",{style:{alignItems:"center",display:"flex",flexDirection:"column"}},r.a.createElement("img",{src:"/images/".concat(l.image_id),style:{height:200,width:300,objectFit:"contain"}}),r.a.createElement(d.a,{color:"primary",onClick:function(){return b(!0)}},"Update Photo"),r.a.createElement(ua,{open:p,handleClose:function(){return b(!1)},supplier_id:t,image_id:l.image_id}),r.a.createElement(m.a,{label:"Name",variant:"outlined",className:a.button,value:l.supplier_name,onChange:function(e){return i({type:aa.SETSUPPLIER,payload:e.target.value})},required:!0}),r.a.createElement(m.a,{label:"Email",variant:"outlined",type:"email",className:a.button,value:l.email_id,onChange:function(e){return i({type:aa.SETEMAIL,payload:e.target.value})},required:!0}),r.a.createElement(fe,{checked:l.visible,onChange:function(e){return i({type:aa.TOGGLEVISIBILITY})},label:"Visible"}),r.a.createElement(m.a,{label:"Description",variant:"outlined",multiline:!0,rows:5,className:a.button,value:l.supplier_description,onChange:function(e){return i({type:aa.SETDESCRIPTION,payload:e.target.value})},required:!0}),r.a.createElement(m.a,{label:"Contact Number",variant:"outlined",type:"tel",className:a.button,value:l.contact_number,onChange:function(e){return i({type:aa.SETCONTACTNUM,payload:e.target.value})},required:!0}),r.a.createElement("div",{className:a.fullcontainer},r.a.createElement(bt,{label:"City",setSelection:function(e){i({type:aa.SETCITY,payload:e})},options:y.map((function(e){return{id:e.city_id,value:e.city_name}})),selection:{id:l.city_id}}),r.a.createElement(bt,{label:"Catagory",setSelection:function(e){i({type:aa.SETCATAGORY,payload:e})},options:v.map((function(e){return{id:e.catagory_id,value:e.catagory_name}})),selection:{id:l.catagory_id}})))}function pa(e){var t=e.supplier_id;return r.a.createElement(ca,{supplier_id:t},r.a.createElement(ma,{supplier_id:t}))}function ma(e){var t=e.supplier_id,a=Object(G.f)(),c=ra().state,l=function(){var e=Object(s.a)(o.a.mark((function e(){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(window.confirm("Are You Sure You Want To Delete this Account?")){e.next=3;break}return e.abrupt("return");case 3:return"/api/suppliers/delete",n={supplier_id:t},e.next=7,$("DELETE","/api/suppliers/delete",n);case 7:if(!e.sent.ok){e.next=12;break}return alert("Supplier Deleted"),a.goBack(),e.abrupt("return");case 12:alert("Failed To Delete");case 13:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),i=function(){var e=Object(s.a)(o.a.mark((function e(){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(window.confirm("Are You Sure You Want To Update")){e.next=3;break}return e.abrupt("return");case 3:return a=Object(V.a)(Object(V.a)({},c),{},{supplier_id:t}),"/api/suppliers/update",e.next=7,$("PUT","/api/suppliers/update",a);case 7:if(!e.sent.ok){e.next=11;break}return alert("Supplier Updated"),e.abrupt("return");case 11:alert("Failed To Update");case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),p=function(){var e=Object(n.useContext)(ea),t=Object(u.a)(e,2);return{loading:t[0],setLoading:t[1]}}().loading,m=function(){var e=Object(n.useContext)(ta),t=Object(u.a)(e,2);return{err:t[0],setErr:t[1]}}().err;return p?r.a.createElement(se,{loading:!0}):m?r.a.createElement(pe,{errors:[m]}):r.a.createElement(r.a.Fragment,null,r.a.createElement(sa,{supplier_id:t}),r.a.createElement(ue,{okLabel:"Update",cancelLabel:"Delete",onClickOk:i,onClickCancel:l}))}var da=Object(w.a)({container:{maxWidth:1e3,width:"90%",margin:10},table:{width:"100%",overflow:"scroll"},head:{backgroundColor:j.PRIMARY_RED,color:j.PRIMARY_WHITE,fontWeight:"bolder"}});function ba(e){var t=function(e){var t=e.supplier_id,a=e.available,n=new URLSearchParams;t&&n.append("supplier_id",t),null!=a&&n.append("available",a);var r=De("GET","/api/products/getall?".concat(n));return{err:r.err,loading:r.loading,result:r.result}}({supplier_id:e.supplier_id,available:e.available}),a=t.err,n=t.loading,c=t.result,l=da(),i=Object(G.f)();return n?r.a.createElement(p.a,{color:"primary"}):a?r.a.createElement(A,null," ",a," "):r.a.createElement(xe.a,{component:_e.a,className:l.container},r.a.createElement(ke.a,{"aria-label":"products table",className:l.table},r.a.createElement(Ce.a,{className:l.head},r.a.createElement(Se.a,null,r.a.createElement(Te.a,{align:"center",className:l.head},"Name"),r.a.createElement(Te.a,{align:"center",className:l.head},"Description"),r.a.createElement(Te.a,{align:"center",className:l.head},"Available"),r.a.createElement(Te.a,{align:"center",className:l.head},"Price"))),r.a.createElement(Ne.a,null,c.map((function(e){return r.a.createElement(Se.a,{key:e.product_id,onClick:function(){i.push("/products/".concat(e.product_id))}},r.a.createElement(Te.a,{component:"th",scope:"row",align:"center"},e.product_name),r.a.createElement(Te.a,{align:"center"},e.product_description),r.a.createElement(Te.a,{align:"center"},e.available?"Yes":"No"),r.a.createElement(Te.a,{align:"center"},e.price))})))))}function fa(){var e=Object(G.g)().id;return r.a.createElement(_,null,r.a.createElement(H,{title:"Supplier"}),r.a.createElement(pa,{supplier_id:e}),r.a.createElement(ba,{supplier_id:e}))}function Ea(e){var t=e.match;return r.a.createElement(q.a,null,r.a.createElement(G.c,null,r.a.createElement(G.a,{exact:!0,path:"".concat(t.url,"/"),component:Qt}),r.a.createElement(G.a,{exact:!0,path:"".concat(t.url,"/:id"),component:fa})))}var va=a(152),ga=a(153),ha=Object(w.a)({container:{minWidth:150,display:"flex",gap:40,alignItems:"center",justifyContent:"center"}});function ya(e){var t=e.page,a=void 0===t?0:t,n=e.setPage,c=e.hasMore,l=void 0===c||c,i=ha();return r.a.createElement(_e.a,{className:i.container},a>0&&r.a.createElement(d.a,{onClick:function(){n((function(e){return e>0?e-1:0}))}},r.a.createElement(va.a,{fontSize:"large"})),r.a.createElement(P.a,{variant:"h5"}," ",a+1),l&&r.a.createElement(d.a,{onClick:function(){n((function(e){return l?e+1:e}))}},r.a.createElement(ga.a,{fontSize:"large"})))}var Oa=Object(w.a)({container:{maxWidth:1e3,width:"90%",margin:10},table:{width:"100%",overflow:"scroll"},head:{backgroundColor:j.PRIMARY_RED,color:j.PRIMARY_WHITE,fontWeight:"bolder"}});function ja(e){var t=e.orders,a=void 0===t?[]:t,n=Oa(),c=Object(G.f)();return r.a.createElement(xe.a,{component:_e.a,className:n.container},r.a.createElement(ke.a,{"aria-label":"products table",className:n.table},r.a.createElement(Ce.a,{className:n.head},r.a.createElement(Se.a,null,r.a.createElement(Te.a,{align:"center",className:n.head},"Index"),r.a.createElement(Te.a,{align:"center",className:n.head},"Status"),r.a.createElement(Te.a,{align:"center",className:n.head},"Time"))),r.a.createElement(Ne.a,null,a.map((function(e,t){return r.a.createElement(Se.a,{key:e.order_id,onClick:function(){c.push("/orders/".concat(e.order_id))}},r.a.createElement(Te.a,{component:"th",scope:"row",align:"center"},t+1),r.a.createElement(Te.a,{align:"center"},e.order_status),r.a.createElement(Te.a,{align:"center"},function(e){function t(e){return e<10?"0".concat(e):"".concat(e)}var a=new Date(e),n=t(a.getMonth()+1),r=t(a.getDate()),c=t(a.getHours()),l=t(a.getMinutes());return"".concat(c,":").concat(l," ").concat(r,"/").concat(n)}(e.ordered_time)))})))))}function wa(){var e=Object(n.useState)(0),t=Object(u.a)(e,2),a=t[0],c=t[1],l=function(e){var t=e.order_status,a=e.page_number,n=void 0===a?0:a,r=(e.payed,new URLSearchParams);t&&r.append("order_status",t),n&&r.append("page_number",n);var c=Ie("GET","/api/admin/orders/getall?".concat(r)),l=c.err,i=c.loading,o=c.result;return{err:l,loading:i,result:void 0===o?[]:o}}({page_number:a}),i=l.err,o=l.loading,s=l.result,p=void 0===s?[]:s,m=Object(n.useState)(!0),d=Object(u.a)(m,2),b=d[0],f=d[1];return Object(n.useEffect)((function(){if(p.length<10)return f(!1);f(!0)}),[p]),r.a.createElement(r.a.Fragment,null,r.a.createElement(ya,{page:a,setPage:c,hasMore:b}),r.a.createElement(se,{loading:o}),r.a.createElement(pe,{errors:[i]}),r.a.createElement(ja,{orders:p}))}function xa(){return r.a.createElement(_,null,r.a.createElement(H,{title:"Orders"}),r.a.createElement(wa,null))}var _a=Object(w.a)({input:{margin:"1rem",width:"80vmin"}});function ka(e){var t=e.label,a=e.type,n=e.value,c=e.onChange,l=e.required,i=Object(k.a)(e,["label","type","value","onChange","required"]),o=_a();return r.a.createElement(ut.a,null,r.a.createElement(m.a,Object.assign({label:t,variant:"outlined",type:a,className:o.input,value:n,onChange:c,required:l},i)))}var Ca=Object(w.a)({container:{maxWidth:1e3,width:"90%",margin:10},table:{width:"100%",overflow:"scroll"},head:{backgroundColor:j.PRIMARY_RED,color:j.PRIMARY_WHITE,fontWeight:"bolder"}});function Sa(e){var t=e.ordered_items,a=void 0===t?[]:t,n=Ca(),c=Object(G.f)();return r.a.createElement(xe.a,{component:_e.a,className:n.container},r.a.createElement(ke.a,{"aria-label":"products table",className:n.table},r.a.createElement(Ce.a,{className:n.head},r.a.createElement(Se.a,null,r.a.createElement(Te.a,{align:"center",className:n.head},"Index"),r.a.createElement(Te.a,{align:"center",className:n.head},"Name"),r.a.createElement(Te.a,{align:"center",className:n.head},"Price"),r.a.createElement(Te.a,{align:"center",className:n.head},"Quantity"),r.a.createElement(Te.a,{align:"center",className:n.head},"Total"))),r.a.createElement(Ne.a,null,a.map((function(e,t){return r.a.createElement(Se.a,{key:e.ordered_item_id,onClick:function(){c.push("/products/".concat(e.product_id))}},r.a.createElement(Te.a,{component:"th",scope:"row",align:"center"},t+1),r.a.createElement(Te.a,{align:"center"},e.product_name),r.a.createElement(Te.a,{align:"center"},e.price),r.a.createElement(Te.a,{align:"center"},e.quantity),r.a.createElement(Te.a,{align:"center"},Number(e.quantity)*Number(e.price)))})))))}function Ta(e){var t=e.user;return r.a.createElement(r.a.Fragment,null,r.a.createElement("h3",null," User "),r.a.createElement(ka,{label:"Name",defaultValue:t.user_name,InputProps:{readOnly:!0}}),r.a.createElement(ka,{label:"Mobile No.",defaultValue:t.mobile_number,InputProps:{readOnly:!0}}),r.a.createElement(ka,{label:"Email",defaultValue:t.email_id,InputProps:{readOnly:!0}}))}function Na(e){var t=e.address;return r.a.createElement(r.a.Fragment,null,r.a.createElement("h3",null," Address "),r.a.createElement(ka,{defaultValue:t.city_name,label:"City",InputProps:{readOnly:!0}}),r.a.createElement(ka,{defaultValue:t.street_name,label:"Street",InputProps:{readOnly:!0}}),r.a.createElement(ka,{defaultValue:t.details,label:"Details",multiline:!0,rowsMax:4,InputProps:{readOnly:!0}}))}function Ia(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=e.reduce((function(e,t){var a=Number(t.price)*Number(t.quantity);return Number(e)+a}),0);return Number(t)}function Ra(e){var t=function(e){var t=e.order_id,a=Ie("GET","/api/admin/orders/get?order_id=".concat(t));return{err:a.err,loading:a.loading,result:a.result}}({order_id:e.order_id}),a=t.err,n=t.loading,c=t.result;return n?r.a.createElement(se,{loading:n}):a?r.a.createElement(pe,{errors:[a]}):r.a.createElement(r.a.Fragment,null,r.a.createElement(Ta,{user:c.user}),r.a.createElement(Sa,{ordered_items:c.ordered_items}),r.a.createElement(ka,{value:Ia(c.ordered_items),label:"Total"}),r.a.createElement(Na,{address:c.address}))}function Pa(){var e=Object(G.g)().id;return r.a.createElement(_,null,r.a.createElement(H,{title:"Order"}),r.a.createElement(Ra,{order_id:e}))}function Aa(e){var t=e.match;return r.a.createElement(q.a,null,r.a.createElement(G.c,null,r.a.createElement(G.a,{exact:!0,path:"".concat(t.url,"/"),component:xa}),r.a.createElement(G.a,{exact:!0,path:"".concat(t.url,"/:id"),component:Pa})))}function Da(){return r.a.createElement(q.a,{basename:"/admin"},r.a.createElement(G.c,null,r.a.createElement(G.a,{exact:!0,path:"/",component:je}),r.a.createElement(G.a,{path:"/employees",component:ye}),r.a.createElement(G.a,{path:"/cities",component:$e}),r.a.createElement(G.a,{path:"/cities",component:$e}),r.a.createElement(G.a,{path:"/catagories",component:ot}),r.a.createElement(G.a,{path:"/suppliers",component:Ea}),r.a.createElement(G.a,{path:"/orders",component:Aa})))}function Ya(){var e=Object(n.useContext)(g),t=y().isLoggedIn;return e?r.a.createElement(U,null):t?r.a.createElement(Da,null):r.a.createElement(L,null)}var La=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(Ya,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Wa=a(75),Fa=a(154),Ma=Object(Wa.a)({palette:{primary:{main:j.PRIMARY_RED},secondary:{main:j.PRIMARY_WHITE}}});l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(Fa.a,{theme:Ma},r.a.createElement(O,null,r.a.createElement(La,null)))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[85,1,2]]]);
//# sourceMappingURL=main.9429d5ac.chunk.js.map