(this.webpackJsonpwebsite=this.webpackJsonpwebsite||[]).push([[8],{100:function(e){e.exports=JSON.parse('{"ADMIN":"admin","EMPLOYEE":"employee","SUPPLIER":"supplier","USER":"user"}')},106:function(e){e.exports=JSON.parse('{"Login":"/admin","RequestPin":"/admin/requestpin","ResetPassword":"/admin/resetpassword"}')},136:function(e,t){e.exports={validateEmail:function(e){return/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(String(e).toLowerCase())},validatePassword:function(e){return e.length>=6}}},147:function(e,t,a){e.exports=a.p+"static/media/shopdharan.f6198331.png"},148:function(e,t,a){e.exports=a.p+"static/media/shopdharan-white.24657495.png"},217:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(31),l=a(2),i=a(81),o=a.n(i),s=a(83),u=a(82),d=a(75),p=a(189),m=a(113);function f(e){return b.apply(this,arguments)}function b(){return(b=Object(u.a)(o.a.mark((function e(t){var a,n,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={refreshToken:t},e.next=3,fetch("/api/token",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(a)});case 3:if((n=e.sent).ok){e.next=6;break}throw n.statusText;case 6:return e.next=8,n.json();case 8:return r=e.sent,e.abrupt("return",r.accessToken);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var E=r.a.createContext(),v=r.a.createContext(),g=r.a.createContext(),h=r.a.createContext(),y=r.a.createContext();function O(){var e=Object(n.useContext)(y),t=Object(s.a)(e,2);return{accessToken:t[0],setAccessToken:t[1]}}function j(){var e=Object(n.useContext)(h),t=Object(s.a)(e,2);return{refreshToken:t[0],setRefreshToken:t[1]}}function w(e){var t=e.children,a=Object(n.useState)(!0),c=Object(s.a)(a,2),l=c[0],i=c[1],o=Object(n.useState)(!1),u=Object(s.a)(o,2),d=u[0],p=u[1],b=Object(n.useState)(""),O=Object(s.a)(b,2),j=O[0],w=O[1],x=Object(n.useState)(localStorage.getItem("refreshToken")),k=Object(s.a)(x,2),_=k[0],C=k[1],T=Object(n.useState)(sessionStorage.getItem("accessToken")),S=Object(s.a)(T,2),N=S[0],P=S[1];return Object(n.useEffect)((function(){localStorage.setItem("refreshToken",_)}),[_]),Object(n.useEffect)((function(){sessionStorage.setItem("accessToken",N)}),[N]),Object(n.useEffect)((function(){if(!_)return i(!1),p(!1),void w("");f(_).then((function(e){var t=Object(m.a)(e);w(t.role),i(!1),p(!0),P(e)})).catch((function(e){console.log(e),i(!1),p(!1)}))}),[_]),r.a.createElement(E.Provider,{value:l},r.a.createElement(v.Provider,{value:d},r.a.createElement(g.Provider,{value:j},r.a.createElement(h.Provider,{value:[_,C]},r.a.createElement(y.Provider,{value:[N,P]},t)))))}var x=a(88),k=Object(d.a)({fullscreen:{display:"flex",flexDirection:"column",backgroundColor:x.PRIMARY_WHITE,flex:1,alignItems:"center",minHeight:"100vh"}});function _(e){var t=e.children,a=k();return r.a.createElement("div",{className:a.fullscreen},t)}var C=a(16),T=a(147),S=a.n(T),N=a(148),P=a.n(N),I=Object(d.a)({logo:{width:"80vmin",maxWidth:1e3,padding:50,objectFit:"contain"}});function R(e){var t=e.variant,a=void 0===t?"white":t,n=Object(C.a)(e,["variant"]),c=I(),l="white"===a.toLowerCase()?P.a:S.a;return r.a.createElement("img",Object.assign({src:l,className:c.logo},n))}var A=a(185),D=a(224),L=Object(d.a)({input:{margin:"1rem",width:"80vmin"}});function F(e){var t=e.label,a=e.type,n=e.value,c=e.onChange,l=e.required,i=Object(C.a)(e,["label","type","value","onChange","required"]),o=L();return r.a.createElement(A.a,null,r.a.createElement(D.a,Object.assign({label:t,variant:"outlined",type:a,className:o.input,value:n,onChange:c,required:l},i)))}var Y=a(190),U=Object(d.a)({button:{margin:20,padding:5}});function W(e){var t=e.children,a=e.onClick,n=Object(C.a)(e,["children","onClick"]),c=U();return r.a.createElement(Y.a,Object.assign({className:c.button,variant:"contained",color:"primary",onClick:a},n),t)}var M=a(77);function q(e){return e.loading?r.a.createElement(M.a,{color:"primary"}):null}var G=a(191);function B(e){var t=e.children;return r.a.createElement(G.a,{color:"primary"},t)}function z(e){var t=e.errors,a=void 0===t?[]:t;return a.length>0?a.map((function(e,t){return r.a.createElement(B,{key:t},e.toString())})):null}var H=a(106),V=Object(d.a)({text:{fontWeight:"bold","&:hover":{textDecoration:"underline",cursor:"pointer"}}});function J(e){var t=e.children,a=Object(C.a)(e,["children"]),n=V();return r.a.createElement(G.a,Object.assign({color:"primary",className:n.text},a),t)}var Z=Object(d.a)({container:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",padding:"2%"}});function $(e,t){return K.apply(this,arguments)}function K(){return(K=Object(u.a)(o.a.mark((function e(t,a){var n,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={username:t,password:a},e.next=3,fetch("/api/admin/login",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(n)});case 3:if((r=e.sent).ok){e.next=8;break}return e.next=7,r.text();case 7:throw e.sent;case 8:return e.next=10,r.json();case 10:return e.abrupt("return",e.sent);case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Q(){var e=Z(),t=Object(l.f)(),a=Object(n.useState)(""),c=Object(s.a)(a,2),i=c[0],d=c[1],m=Object(n.useState)(""),f=Object(s.a)(m,2),b=f[0],E=f[1],v=Object(n.useState)(!1),g=Object(s.a)(v,2),h=g[0],y=g[1],w=Object(n.useState)(""),x=Object(s.a)(w,2),k=x[0],C=x[1],T=j().setRefreshToken,S=O().setAccessToken,N=function(){var e=Object(u.a)(o.a.mark((function e(){var t,a,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,C(""),y(!0),e.next=5,$(i,b);case 5:t=e.sent,a=t.accessToken,n=t.refreshToken,y(!1),T(n),S(a),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(0),y(!1),C(e.t0);case 17:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}();return r.a.createElement(_,null,r.a.createElement(R,{variant:"red"}),r.a.createElement(p.a,{className:e.container},r.a.createElement(q,{loading:h}),r.a.createElement(z,{errors:[k]}),r.a.createElement(F,{label:"Username",value:i,onChange:function(e){d(e.target.value)},required:!0}),r.a.createElement(F,{label:"Password",type:"password",value:b,onChange:function(e){E(e.target.value)},required:!0}),r.a.createElement(W,{onClick:N},"Login"),r.a.createElement(J,{onClick:function(){t.push(H.RequestPin)}},"Forgot Password?")))}var X=a(192),ee=Object(d.a)({container:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",padding:10}});function te(e){var t=e.children,a=ee();return r.a.createElement(X.a,{className:a.container},t)}var ae=a(85),ne=a(136),re=Object(d.a)({container:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",padding:10}});function ce(e){var t=e.children,a=re();return r.a.createElement(p.a,{className:a.container},t)}function le(e){return ie.apply(this,arguments)}function ie(){return(ie=Object(u.a)(o.a.mark((function e(t){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/admin/resetpassword",{method:"PUT",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(t)});case 2:if((a=e.sent).ok){e.next=7;break}return e.next=6,a.text();case 6:throw e.sent;case 7:return e.abrupt("return",a.ok);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function oe(){var e=Object(l.f)(),t=Object(n.useState)(""),a=Object(s.a)(t,2),c=a[0],i=a[1];return r.a.createElement(ce,null,r.a.createElement(ae.b,{initialValues:{username:"",new_password:"",renew_password:"",pin:""},validate:function(e){var t={};return Object(ne.validatePassword)(e.new_password)||(t.new_password="Password Must Be Atleast 6 characters"),e.new_password!==e.renew_password&&(t.renew_password="Passwords Donot Match"),t},onSubmit:function(){var t=Object(u.a)(o.a.mark((function t(a,n){var r;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=n.setSubmitting,t.prev=1,r(!0),t.next=5,le(a);case 5:t.sent&&e.push(H.Login),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(1),i(t.t0);case 12:return t.prev=12,r(!1),t.finish(12);case 15:case"end":return t.stop()}}),t,null,[[1,9,12,15]])})));return function(e,a){return t.apply(this,arguments)}}()},(function(t){var a=t.isSubmitting,n=t.handleSubmit,l=t.errors;return r.a.createElement(r.a.Fragment,null,r.a.createElement(q,{loading:a}),r.a.createElement(z,{errors:[c]}),r.a.createElement(ae.a,{name:"username",type:"text",label:"Username",required:!0,as:F}),r.a.createElement(ae.a,{name:"new_password",type:"password",label:"New Password",error:!!l.new_password,helperText:l.new_password,required:!0,as:F}),r.a.createElement(ae.a,{name:"renew_password",type:"password",label:"Retype Password",error:!!l.renew_password,helperText:l.renew_password,required:!0,as:F}),r.a.createElement(ae.a,{name:"pin",type:"text",label:"Pin",required:!0,as:F}),r.a.createElement(W,{type:"submit",onClick:n},"Reset Password"),r.a.createElement(J,{onClick:function(){e.push(H.RequestPin)}},"Didn't Recieve Pin?"),r.a.createElement(J,{onClick:function(){e.push(H.Login)}},"Back To Login"))})))}function se(){return r.a.createElement(_,null,r.a.createElement(te,null,r.a.createElement(R,{variant:"red"}),r.a.createElement(oe,null)))}function ue(e){return de.apply(this,arguments)}function de(){return(de=Object(u.a)(o.a.mark((function e(t){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/admin/requestpin",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(t)});case 2:return a=e.sent,e.abrupt("return",a.ok);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function pe(){var e=Object(l.f)(),t=Object(n.useState)(""),a=Object(s.a)(t,2),c=a[0],i=a[1];return r.a.createElement(ce,null,r.a.createElement(ae.b,{initialValues:{username:""},onSubmit:function(){var t=Object(u.a)(o.a.mark((function t(a,n){var r;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=n.setSubmitting,t.prev=1,r(!0),t.next=5,ue(a);case 5:if(!t.sent){t.next=8;break}return t.abrupt("return",e.push(H.ResetPassword));case 8:alert("Failed To Send Email Please Try Again"),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(1),i(t.t0);case 14:return t.prev=14,r(!1),t.finish(14);case 17:case"end":return t.stop()}}),t,null,[[1,11,14,17]])})));return function(e,a){return t.apply(this,arguments)}}()},(function(t){var a=t.isSubmitting,n=t.handleSubmit;return r.a.createElement(r.a.Fragment,null,r.a.createElement(q,{loading:a}),r.a.createElement(z,{errors:[c]}),r.a.createElement(ae.a,{name:"username",type:"text",label:"Username",required:!0,as:F}),r.a.createElement(W,{type:"submit",onClick:n},"Request Reset Pin From Email"),r.a.createElement(J,{onClick:function(){e.push(H.ResetPassword)}}," ","Already Have A Pin?"," "),r.a.createElement(J,{onClick:function(){e.push(H.Login)}}," ","Back To Login"," "))})))}function me(){return r.a.createElement(_,null,r.a.createElement(te,null,r.a.createElement(R,{variant:"red"}),r.a.createElement(pe,null)))}function fe(){return r.a.createElement(c.a,null,r.a.createElement(l.c,null,r.a.createElement(l.a,{path:H.ResetPassword,component:se}),r.a.createElement(l.a,{path:H.RequestPin,component:me}),r.a.createElement(l.a,{path:H.Login,component:Q})))}var be=Object(d.a)({fullscreen:{display:"flex",flexDirection:"column",backgroundColor:x.PRIMARY_RED,flex:1,alignItems:"center",justifyContent:"center",minHeight:"100vh"}});function Ee(e){var t=e.children,a=be();return r.a.createElement("div",{className:a.fullscreen},t)}function ve(){return r.a.createElement(Ee,null,r.a.createElement(R,null),r.a.createElement(q,{color:"secondary",loading:!0}))}function ge(e){return he.apply(this,arguments)}function he(){return(he=Object(u.a)(o.a.mark((function e(t){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}throw"Not Logged In";case 2:return"/api/logout",e.next=5,fetch("/api/logout",{method:"DELETE",headers:{"content-type":"application/json"},body:JSON.stringify({refreshToken:t})});case 5:return a=e.sent,e.abrupt("return",a.ok);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ye(e){var t=e.className,a=j(),n=a.refreshToken,c=a.setRefreshToken,l=O().setAccessToken;return r.a.createElement("text",{className:t,onClick:Object(u.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,window.confirm("Do You Want To Logout?")){e.next=4;break}return e.abrupt("return");case 4:return e.next=6,ge(n);case 6:if(e.sent){e.next=9;break}return e.abrupt("return",alert("Failed To Logout"));case 9:c(""),l(""),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),alert(e.t0);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})))},"Logout")}var Oe=Object(d.a)({links:{color:" #f2f2f2",textDecoration:"solid",fontSize:"2em",fontWeight:"bold","&:hover":{transform:"scale(1.1)"}},container:{display:"flex",flexDirection:"column",padding:10,alignItems:"center"}});function je(){var e=Oe();return r.a.createElement(X.a,{className:e.container},r.a.createElement(c.b,{to:"/admin/employees",className:e.links}," Employees"),r.a.createElement(c.b,{to:"/admin/cities",className:e.links}," Cities"),r.a.createElement(c.b,{to:"/admin/catagories",className:e.links}," Catagories"),r.a.createElement(c.b,{to:"/admin/suppliers",className:e.links}," Suppliers"),r.a.createElement(c.b,{to:"/admin/orders",className:e.links}," Orders"),r.a.createElement(c.b,{to:"/admin/changepassword",className:e.links}," Change Password"),r.a.createElement(ye,{className:e.links}))}function we(){return r.a.createElement(Ee,null,r.a.createElement(R,null),r.a.createElement(je,null))}var xe=a(228),ke=a(193),_e=Object(d.a)({nav:{display:"flex",minHeight:"3em",alignItems:"center",justifyContent:"space-between",marginBottom:"1em",backgroundColor:x.PRIMARY_RED,width:"100%"},title:{marginLeft:"auto",marginRight:"auto",color:x.PRIMARY_WHITE,fontSize:"25px",fontWeight:"bold"}});function Ce(e){var t=e.title,a=void 0===t?"Shop Dharan":t,n=Object(l.f)(),c=_e();return r.a.createElement("nav",{className:c.nav},r.a.createElement(ke.a,{onClick:n.goBack,color:"secondary",fontSize:"large"}),r.a.createElement("div",{className:c.title},a))}var Te=a(194),Se=a(195),Ne=a(196),Pe=a(197),Ie=a(198),Re=a(199),Ae=a(84);function De(){var e=Object(n.useState)(sessionStorage.getItem("accessToken")),t=Object(s.a)(e,2),a=t[0],r=t[1];return Object(n.useEffect)((function(){sessionStorage.setItem("accessToken",a)}),[a]),[a,r]}function Le(){var e=Object(n.useState)(localStorage.getItem("refreshToken")),t=Object(s.a)(e,2),a=t[0],r=t[1];return Object(n.useEffect)((function(){localStorage.setItem("refreshToken",a)}),[a]),[a,r]}function Fe(e){return Ye.apply(this,arguments)}function Ye(){return(Ye=Object(u.a)(o.a.mark((function e(t){var a,n,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={accessToken:t},e.next=3,fetch("/api/validate",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(a)});case 3:if((n=e.sent).ok){e.next=6;break}throw n.statusText;case 6:return e.next=8,n.json();case 8:return r=e.sent,e.abrupt("return",r.valid);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ue(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"GET",t=arguments.length>1?arguments[1]:void 0,a=arguments.length>2?arguments[2]:void 0,r=Object(n.useState)(!0),c=Object(s.a)(r,2),l=c[0],i=c[1],d=Object(n.useState)(),p=Object(s.a)(d,2),m=p[0],b=p[1],E=Object(n.useState)(""),v=Object(s.a)(E,2),g=v[0],h=v[1],y=De(),O=Object(s.a)(y,2),j=O[0],w=O[1],x=Le(),k=Object(s.a)(x,1),_=k[0];return Object(n.useEffect)((function(){var n=function(){var e=Object(u.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Fe(j);case 2:if(!e.sent){e.next=5;break}return e.abrupt("return");case 5:return e.next=7,f(_);case 7:t=e.sent,w(t);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),r=function(){var n=Object(u.a)(o.a.mark((function n(){var r,c,l;return o.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r={method:e,headers:{authorization:"bearer ".concat(j),"content-type":"application/json"}},a&&(r=Object(Ae.a)(Object(Ae.a)({},r),{},{body:JSON.stringify(a)})),n.next=4,fetch(t,r);case 4:if((c=n.sent).ok){n.next=9;break}return h(c.statusText),i(!1),n.abrupt("return");case 9:return n.next=11,c.json();case 11:l=n.sent,b(l),i(!1);case 14:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();i(!0),n().then((function(){r()})).catch((function(e){h(e),i(!1)}))}),[t,a]),{loading:l,result:m,err:g}}var We=Object(d.a)({container:{maxWidth:1e3,width:"90%",margin:10},table:{width:"100%"},head:{backgroundColor:x.PRIMARY_RED,color:x.PRIMARY_WHITE,fontWeight:"bolder"}});function Me(){var e=function(){var e=Ue("GET","/api/employees/getall"),t=e.loading;return{err:e.err,loading:t,result:e.result}}(),t=e.err,a=e.loading,n=e.result,c=We(),i=Object(l.f)();return a?r.a.createElement(M.a,{color:"primary"}):t?r.a.createElement(B,null," ",t," "):r.a.createElement(Te.a,{component:p.a,className:c.container},r.a.createElement(Se.a,{"aria-label":"employee table",className:c.table},r.a.createElement(Ne.a,{className:c.head},r.a.createElement(Pe.a,null,r.a.createElement(Ie.a,{align:"center",className:c.head},"Name"),r.a.createElement(Ie.a,{align:"center",className:c.head},"Admin"),r.a.createElement(Ie.a,{align:"center",className:c.head},"Username"),r.a.createElement(Ie.a,{align:"center",className:c.head},"Email"))),r.a.createElement(Re.a,null,n.map((function(e){return r.a.createElement(Pe.a,{key:e.employee_id,onClick:function(){i.push("employees/".concat(e.employee_id))}},r.a.createElement(Ie.a,{component:"th",scope:"row",align:"center"},e.employee_name),r.a.createElement(Ie.a,{align:"center"},e.is_admin?"True":"False"),r.a.createElement(Ie.a,{align:"center"},e.username),r.a.createElement(Ie.a,{align:"center"},e.email))})))))}var qe=a(102);function Ge(){return Be.apply(this,arguments)}function Be(){return(Be=Object(u.a)(o.a.mark((function e(){var t,a,n,r,c,l,i=arguments;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=i.length>0&&void 0!==i[0]?i[0]:"POST",a=i.length>1?i[1]:void 0,n=i.length>2?i[2]:void 0,r=sessionStorage.getItem("accessToken"),c=localStorage.getItem("refreshToken"),e.next=7,Fe(r);case 7:if(e.sent){e.next=13;break}return e.next=11,f(c);case 11:r=e.sent,sessionStorage.setItem("accessToken",r);case 13:return l={method:t,headers:{authorization:"bearer ".concat(r),"content-type":"application/json"}},n&&"GET"!==t&&(l=Object(Ae.a)(Object(Ae.a)({},l),{},{body:JSON.stringify(n)})),e.next=17,fetch(a,l);case 17:return e.abrupt("return",e.sent);case 18:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ze(e){return/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(String(e).toLowerCase())}function He(e){return e.length>=6}var Ve=Object(d.a)({container:{display:"flex",alignItems:"center",justifyContent:"space-evenly",width:"80%",flexWrap:"wrap"}});function Je(e){var t=e.onClickOk,a=e.onClickCancel,n=e.okLabel,c=void 0===n?"Ok":n,l=e.cancelLabel,i=void 0===l?"Cancel":l,o=Ve();return r.a.createElement("div",{className:o.container,style:{width:"100%"}},r.a.createElement(Y.a,{color:"primary",variant:"text",onClick:a},i),r.a.createElement(Y.a,{color:"primary",variant:"contained",onClick:t},c))}var Ze=a(166),$e=a(154),Ke=a(155);function Qe(e){var t=e.checked,a=e.onChange,n=e.label;return r.a.createElement($e.a,null,r.a.createElement(Ke.a,{control:r.a.createElement(Ze.a,{checked:t,onChange:a,color:"primary"}),label:n}))}var Xe=r.a.createContext(),et=r.a.createContext(),tt=r.a.createContext(),at="setemployeename",nt="toggleisadmin",rt="setusername",ct="setpassword",lt="setrepassword",it="setemail";function ot(e,t){switch(t.type){case at:return Object(Ae.a)(Object(Ae.a)({},e),{},{employee_name:t.payload});case nt:return Object(Ae.a)(Object(Ae.a)({},e),{},{is_admin:!e.is_admin});case it:return Object(Ae.a)(Object(Ae.a)({},e),{},{email:t.payload});case rt:return Object(Ae.a)(Object(Ae.a)({},e),{},{username:t.payload});case ct:return Object(Ae.a)(Object(Ae.a)({},e),{},{password:t.payload});case lt:return Object(Ae.a)(Object(Ae.a)({},e),{},{repassword:t.payload});default:return e}}function st(){var e=Object(n.useContext)(Xe),t=Object(s.a)(e,2);return{state:t[0],dispatch:t[1]}}function ut(e){var t=e.children,a=Object(n.useReducer)(ot,{employee_name:"",is_admin:!1,username:"",password:"",repassword:"",email:""}),c=Object(s.a)(a,2),l=c[0],i=c[1],o=Object(n.useState)(!1),u=Object(s.a)(o,2),d=u[0],p=u[1],m=Object(n.useState)([]),f=Object(s.a)(m,2),b=f[0],E=f[1];return r.a.createElement(Xe.Provider,{value:[l,i]},r.a.createElement(et.Provider,{value:[b,E]},r.a.createElement(tt.Provider,{value:[d,p]},t)))}var dt=Object(d.a)({button:{margin:"1rem",width:"80vmin"},wrapper:{display:"flex",flexDirection:"column",padding:"1em",alignItems:"center"}});function pt(){var e=dt(),t=st(),a=t.state,n=t.dispatch;return r.a.createElement(r.a.Fragment,null,r.a.createElement(Qe,{checked:a.is_admin,onChange:function(e){return n({type:nt})},label:"Admin"}),r.a.createElement(D.a,{label:"Name",variant:"outlined",className:e.button,value:a.employee_name,onChange:function(e){return n({type:at,payload:e.target.value})},required:!0}),r.a.createElement(D.a,{label:"Email",variant:"outlined",type:"email",className:e.button,value:a.email,onChange:function(e){return n({type:it,payload:e.target.value})},required:!0}),r.a.createElement(D.a,{label:"Username",variant:"outlined",className:e.button,value:a.username,onChange:function(e){return n({type:rt,payload:e.target.value})},required:!0}),r.a.createElement(D.a,{label:"Password",variant:"outlined",type:"password",className:e.button,value:a.password,onChange:function(e){return n({type:ct,payload:e.target.value})},required:!0}),r.a.createElement(D.a,{label:"Retype Password",variant:"outlined",type:"password",className:e.button,value:a.repassword,onChange:function(e){return n({type:lt,payload:e.target.value})},required:!0}))}var mt=Object(d.a)({button:{margin:"1rem",width:"80vmin"},wrapper:{display:"flex",flexDirection:"column",padding:"1em",alignItems:"center"}});function ft(e){return bt.apply(this,arguments)}function bt(){return(bt=Object(u.a)(o.a.mark((function e(t){var a,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"/api/employees/add",a=Object(Ae.a)({},t),e.next=4,Ge("POST","/api/employees/add",a);case 4:if(!(n=e.sent).ok){e.next=7;break}return e.abrupt("return",n.ok);case 7:return e.next=9,n.text();case 9:throw e.sent;case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Et(e){var t=[];return ze(e.email)||(t=[].concat(Object(qe.a)(t),["Invalid Email"])),He(e.password)||(t=[].concat(Object(qe.a)(t),["Password should Be Atleast 6 digit long"])),e.password!==e.repassword&&(t=[].concat(Object(qe.a)(t),["Passwords Don't Match"])),t}function vt(e){var t=e.handleClose;return r.a.createElement(ut,null,r.a.createElement(gt,{handleClose:t}))}function gt(e){var t=e.handleClose,a=function(){var e=Object(n.useContext)(tt),t=Object(s.a)(e,2);return{loading:t[0],setLoading:t[1]}}(),c=a.loading,l=a.setLoading,i=function(){var e=Object(n.useContext)(et),t=Object(s.a)(e,2);return{err:t[0],setErr:t[1]}}(),d=i.err,m=i.setErr,f=st().state,b=mt();function E(){return(E=Object(u.a)(o.a.mark((function e(){var a,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(m([]),!((a=Et(f)).length>0)){e.next=5;break}return m(Object(qe.a)(a)),e.abrupt("return");case 5:return e.prev=5,l(!0),e.next=9,ft(f);case 9:if(n=e.sent,l(!1),!n){e.next=14;break}return t(),e.abrupt("return",alert("Employees Added"));case 14:throw"Failed To Add Employees";case 17:e.prev=17,e.t0=e.catch(5),l(!1),m([String(e.t0)]);case 21:case"end":return e.stop()}}),e,null,[[5,17]])})))).apply(this,arguments)}return r.a.createElement(p.a,{className:b.wrapper},r.a.createElement(q,{loading:c}),r.a.createElement(z,{errors:d}),r.a.createElement(pt,null),r.a.createElement(Je,{okLabel:"Add Employee",onClickOk:function(){return E.apply(this,arguments)},cancelLabel:"Cancel",onClickCancel:t}))}var ht=Object(d.a)((function(e){return{backdrop:{zIndex:e.zIndex.drawer+1,color:"#fff"}}}));function yt(e){var t=e.open,a=e.handleClose,n=ht();return r.a.createElement(xe.a,{open:t,className:n.backdrop},r.a.createElement(vt,{handleClose:a}))}function Ot(e){e.match,Object(l.f)();var t=Object(n.useState)(!1),a=Object(s.a)(t,2),c=a[0],i=a[1];return r.a.createElement(_,null,r.a.createElement(Ce,{title:"Employees"}),r.a.createElement(yt,{open:c,handleClose:function(){i(!1)}}),r.a.createElement(Y.a,{color:"primary",onClick:function(){i(!0)}},"Add New"),r.a.createElement(Me,null))}var jt=r.a.createContext(),wt=r.a.createContext(),xt=r.a.createContext(),kt="setall",_t="setname",Ct="setusername",Tt="setemail",St="toggleadmin";function Nt(e,t){switch(t.type){case kt:return Object(Ae.a)({},t.payload);case _t:return Object(Ae.a)(Object(Ae.a)({},e),{},{employee_name:t.payload});case Ct:return Object(Ae.a)(Object(Ae.a)({},e),{},{username:t.payload});case Tt:return Object(Ae.a)(Object(Ae.a)({},e),{},{email:t.payload});case St:return Object(Ae.a)(Object(Ae.a)({},e),{},{is_admin:!e.is_admin});default:return e}}function Pt(){var e=Object(n.useContext)(jt),t=Object(s.a)(e,2);return{state:t[0],dispatch:t[1]}}function It(e){var t=e.employee_id,a=e.children,c="/api/employees/get?employee_id=".concat(t),l=Object(n.useReducer)(Nt,{employee_name:"",is_admin:!1,username:"",email:""}),i=Object(s.a)(l,2),d=i[0],p=i[1],m=Object(n.useState)(!1),f=Object(s.a)(m,2),b=f[0],E=f[1],v=Object(n.useState)(""),g=Object(s.a)(v,2),h=g[0],y=g[1];return Object(n.useEffect)((function(){(function(){var e=Object(u.a)(o.a.mark((function e(){var t,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return E(!0),e.next=3,Ge("GET",c);case 3:if((t=e.sent).ok){e.next=6;break}throw t.statusText;case 6:return e.next=8,t.json();case 8:a=e.sent,p({type:kt,payload:a}),E(!1);case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()().catch((function(e){E(!1),y(e)}))}),[c]),r.a.createElement(jt.Provider,{value:[d,p]},r.a.createElement(wt.Provider,{value:[b,E]},r.a.createElement(xt.Provider,{value:[h,y]},a)))}var Rt=Object(d.a)({button:{margin:"1rem",width:"80vmin"}});function At(){var e=Rt(),t=Pt(),a=t.state,n=t.dispatch;return r.a.createElement(r.a.Fragment,null,r.a.createElement(D.a,{label:"Name",variant:"outlined",className:e.button,value:a.employee_name,onChange:function(e){return n({type:_t,payload:e.target.value})},required:!0}),r.a.createElement(D.a,{label:"Username",variant:"outlined",className:e.button,value:a.username,onChange:function(e){return n({type:Ct,payload:e.target.value})},required:!0}),r.a.createElement(D.a,{label:"Email",variant:"outlined",type:"Email",className:e.button,value:a.email,onChange:function(e){return n({type:Tt,payload:e.target.value})},required:!0}),r.a.createElement(Qe,{label:"Admin",checked:a.is_admin,onChange:function(e){return n({type:St})}}))}function Dt(e){var t=e.employee_id;return r.a.createElement(It,{employee_id:t},r.a.createElement(Lt,{employee_id:t}))}function Lt(e){var t=e.employee_id,a=function(){var e=Object(n.useContext)(wt),t=Object(s.a)(e,2);return{loading:t[0],setLoading:t[1]}}().loading,c=function(){var e=Object(n.useContext)(xt),t=Object(s.a)(e,2);return{err:t[0],setErr:t[1]}}().err,i=Pt().state,d=Object(l.f)(),p=function(){var e=Object(u.a)(o.a.mark((function e(){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(window.confirm("Are You Sure You Want To Delete this Account?")){e.next=3;break}return e.abrupt("return");case 3:return"/api/employees/delete",a={employee_id:t},e.next=7,Ge("DELETE","/api/employees/delete",a);case 7:if(!e.sent.ok){e.next=12;break}return alert("Employee Deleted"),d.goBack(),e.abrupt("return");case 12:alert("Failed To Delete");case 13:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),m=function(){var e=Object(u.a)(o.a.mark((function e(){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(window.confirm("Are You Sure You Want To Update")){e.next=3;break}return e.abrupt("return");case 3:return a=Object(Ae.a)(Object(Ae.a)({},i),{},{employee_id:t}),"/api/employees/update",e.next=7,Ge("PUT","/api/employees/update",a);case 7:if(!e.sent.ok){e.next=11;break}return alert("Employee Updated"),e.abrupt("return");case 11:alert("Failed To Upload");case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return a?r.a.createElement(q,{loading:!0}):c?r.a.createElement(z,{errors:[c]}):r.a.createElement(r.a.Fragment,null,r.a.createElement(Je,{onClickOk:m,okLabel:"Update",onClickCancel:p,cancelLabel:"Delete"}),r.a.createElement(At,null))}function Ft(){var e=Object(l.g)().id;return r.a.createElement(_,null,r.a.createElement(Ce,{title:"Employee"}),r.a.createElement(Dt,{employee_id:e}))}function Yt(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"GET",t=arguments.length>1?arguments[1]:void 0,a=arguments.length>2?arguments[2]:void 0,r=Object(n.useState)(!0),c=Object(s.a)(r,2),l=c[0],i=c[1],d=Object(n.useState)(),p=Object(s.a)(d,2),m=p[0],f=p[1],b=Object(n.useState)(""),E=Object(s.a)(b,2),v=E[0],g=E[1];return Object(n.useEffect)((function(){var n=function(){var n=Object(u.a)(o.a.mark((function n(){var r,c,l;return o.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r={method:e,headers:{"content-type":"application/json"}},a&&(r=Object(Ae.a)(Object(Ae.a)({},r),{},{body:JSON.stringify(a)})),n.next=4,fetch(t,r);case 4:if((c=n.sent).ok){n.next=9;break}return g(c.statusText),i(!1),n.abrupt("return");case 9:return n.next=11,c.json();case 11:l=n.sent,f(l),i(!1);case 14:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();i(!0),n().catch((function(e){g(e),i(!1)}))}),[t,a]),{loading:l,result:m,err:v}}function Ut(){var e=Yt("GET","/api/cities/getall");return{loading:e.loading,result:e.result,err:e.err}}function Wt(e){return Mt.apply(this,arguments)}function Mt(){return(Mt=Object(u.a)(o.a.mark((function e(t){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"/api/cities/add",e.next=3,Ge("POST","/api/cities/add",{city_name:t});case 3:return a=e.sent,e.abrupt("return",a.ok);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var qt=Object(d.a)({container:{maxWidth:1e3,width:"90%",margin:10},table:{width:"100%"},head:{backgroundColor:x.PRIMARY_RED,color:x.PRIMARY_WHITE,fontWeight:"bolder"}});function Gt(e){var t=e.match,a=Ut(),n=a.loading,c=a.result,i=a.err,s=qt(),d=Object(l.f)(),m=function(){var e=Object(u.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=window.prompt("City Name")){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,Wt(t);case 5:if(!e.sent){e.next=9;break}return alert("City Added"),e.abrupt("return");case 9:alert("Failed To Add City");case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),f=function(){return r.a.createElement(Te.a,{component:p.a,className:s.container},r.a.createElement(Se.a,{"aria-label":"employee table",className:s.table},r.a.createElement(Ne.a,{className:s.head},r.a.createElement(Pe.a,null,r.a.createElement(Ie.a,{align:"center",className:s.head},"No."),r.a.createElement(Ie.a,{align:"center",className:s.head},"City Name"))),r.a.createElement(Re.a,null,c.map((function(e,a){return r.a.createElement(Pe.a,{key:e.city_id,onClick:function(){d.push("".concat(t.url,"/").concat(e.city_id))}},r.a.createElement(Ie.a,{component:"th",scope:"row",align:"center"},a+1),r.a.createElement(Ie.a,{align:"center"},e.city_name))})))))},b=function(){return n?r.a.createElement(M.a,{color:"primary"}):i?r.a.createElement(B,null," ",i," "):r.a.createElement(f,null)};return r.a.createElement(_,null,r.a.createElement(Ce,{title:"Cities"}),r.a.createElement(Y.a,{color:"primary",onClick:m}," Add City "),r.a.createElement(b,null))}var Bt=a(123);var zt=Object(d.a)({container:{maxWidth:1e3,width:"90%",margin:10},table:{width:"100%"},head:{backgroundColor:x.PRIMARY_RED,color:x.PRIMARY_WHITE,fontWeight:"bolder"}});function Ht(e){var t=function(e){var t=e.visible,a=e.city_id,n=e.catagory_id,r=e.supplier_name,c=new URLSearchParams;a&&c.append("city_id",a),null!=t&&c.append("visible",t),n&&c.append("catagory_id",n),r&&c.append("supplier_name",r);var l=Yt("GET","/api/suppliers/getall?".concat(c));return{err:l.err,loading:l.loading,result:l.result}}({visible:e.visible,supplier_name:e.supplier_name,catagory_id:e.catagory_id,city_id:e.city_id}),a=t.err,n=t.loading,c=t.result,i=zt(),o=Object(l.f)();return n?r.a.createElement(M.a,{color:"primary"}):a?r.a.createElement(B,null," ",a," "):r.a.createElement(Te.a,{component:p.a,className:i.container},r.a.createElement(Se.a,{"aria-label":"employee table",className:i.table},r.a.createElement(Ne.a,{className:i.head},r.a.createElement(Pe.a,null,r.a.createElement(Ie.a,{align:"center",className:i.head},"Name"),r.a.createElement(Ie.a,{align:"center",className:i.head},"Description"),r.a.createElement(Ie.a,{align:"center",className:i.head},"Number"),r.a.createElement(Ie.a,{align:"center",className:i.head},"Visible"))),r.a.createElement(Re.a,null,c.map((function(e){return r.a.createElement(Pe.a,{key:e.supplier_id,onClick:function(){o.push("/admin/suppliers/".concat(e.supplier_id))}},r.a.createElement(Ie.a,{component:"th",scope:"row",align:"center"},e.supplier_name),r.a.createElement(Ie.a,{align:"center"},e.supplier_description),r.a.createElement(Ie.a,{align:"center"},e.contact_number),r.a.createElement(Ie.a,{align:"center"},e.visible?"True":"False"))})))))}function Vt(e){return Jt.apply(this,arguments)}function Jt(){return(Jt=Object(u.a)(o.a.mark((function e(t){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"/api/cities/delete",e.next=3,Ge("DELETE","/api/cities/delete",{city_id:t});case 3:return a=e.sent,e.abrupt("return",a.ok);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Zt(e,t){return $t.apply(this,arguments)}function $t(){return($t=Object(u.a)(o.a.mark((function e(t,a){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"/api/cities/update",e.next=3,Ge("PUT","/api/cities/update",{city_id:t,city_name:a});case 3:return n=e.sent,e.abrupt("return",n.ok);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Kt=Object(d.a)({button:{margin:"1rem",width:"80vmin"}});function Qt(){var e=Object(l.g)().id,t="/api/cities/get?city_id=".concat(e),a=Kt(),c=Object(n.useState)(!1),i=Object(s.a)(c,2),d=i[0],p=i[1],m=Object(n.useState)(""),f=Object(s.a)(m,2),b=f[0],E=f[1],v=Object(n.useState)(""),g=Object(s.a)(v,2),h=g[0],y=g[1],O=Object(n.useState)("City"),j=Object(s.a)(O,2),w=j[0],x=j[1],k=Object(l.f)();Object(n.useEffect)((function(){(function(){var e=Object(u.a)(o.a.mark((function e(){var a,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return p(!0),e.next=3,Ge("GET",t);case 3:return a=e.sent,e.next=6,a.json();case 6:n=e.sent,y(n.city_name),p(!1),x(n.city_name);case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()().catch((function(e){return E(e)}))}),[]);var C=function(){var t,n=function(){var t=Object(u.a)(o.a.mark((function t(){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(window.confirm("Are You Sure You Want To Delete This City?")){t.next=3;break}return t.abrupt("return");case 3:return t.next=5,Vt(e);case 5:if(!t.sent){t.next=10;break}return window.alert("City Deleted"),k.goBack(),t.abrupt("return");case 10:window.alert("Failed to Delete");case 11:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),c=function(){var t=Object(u.a)(o.a.mark((function t(){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(window.confirm("Are You Sure You Want To Update")){t.next=3;break}return t.abrupt("return");case 3:return t.next=5,Zt(e,h);case 5:if(!t.sent){t.next=10;break}return window.alert("City Updated"),k.goBack(),t.abrupt("return");case 10:window.alert("Failed To Update");case 11:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return r.a.createElement("div",{className:"button-container"},r.a.createElement(Y.a,{color:"primary",onClick:n},"Delete"),r.a.createElement(D.a,(t={value:h,label:"Name",variant:"outlined",className:a.button},Object(Bt.a)(t,"value",h),Object(Bt.a)(t,"autoFocus",!0),Object(Bt.a)(t,"onChange",(function(e){y(e.target.value)})),Object(Bt.a)(t,"required",!0),t)),r.a.createElement(Y.a,{color:"primary",variant:"contained",onClick:c},"Update"))},T=function(){return d?r.a.createElement(M.a,{color:"primary"}):b?r.a.createElement(B,null," ",b," "):r.a.createElement(C,null)};return r.a.createElement(_,null,r.a.createElement(Ce,{title:w}),r.a.createElement(T,null),r.a.createElement("h2",null," Suppliers "),r.a.createElement(Ht,{city_id:e}))}function Xt(){var e=Yt("GET","/api/catagories/getall");return{loading:e.loading,result:e.result,err:e.err}}function ea(e){return ta.apply(this,arguments)}function ta(){return(ta=Object(u.a)(o.a.mark((function e(t){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"/api/catagories/add",e.next=3,Ge("POST","/api/catagories/add",{catagory_name:t});case 3:return a=e.sent,e.abrupt("return",a.ok);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var aa=Object(d.a)({container:{maxWidth:1e3,width:"90%",margin:10},table:{width:"100%"},head:{backgroundColor:x.PRIMARY_RED,color:x.PRIMARY_WHITE,fontWeight:"bolder"}});function na(e){var t=e.match,a=Xt(),n=a.loading,c=a.result,i=a.err,s=aa(),d=Object(l.f)(),m=function(){var e=Object(u.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=window.prompt("Catagory Name")){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,ea(t);case 5:if(!e.sent){e.next=9;break}return alert("Catagory Added"),e.abrupt("return");case 9:alert("Failed To Add Catagory");case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),f=function(){return r.a.createElement(Te.a,{component:p.a,className:s.container},r.a.createElement(Se.a,{"aria-label":"employee table",className:s.table},r.a.createElement(Ne.a,{className:s.head},r.a.createElement(Pe.a,null,r.a.createElement(Ie.a,{align:"center",className:s.head},"No."),r.a.createElement(Ie.a,{align:"center",className:s.head},"Catagory Name"))),r.a.createElement(Re.a,null,c.map((function(e,a){return r.a.createElement(Pe.a,{key:e.catagory_id,onClick:function(){d.push("".concat(t.url,"/").concat(e.catagory_id))}},r.a.createElement(Ie.a,{component:"th",scope:"row",align:"center"},a+1),r.a.createElement(Ie.a,{align:"center"},e.catagory_name))})))))},b=function(){return n?r.a.createElement(M.a,{color:"primary"}):i?r.a.createElement(B,null," ",i," "):r.a.createElement(f,null)};return r.a.createElement(_,null,r.a.createElement(Ce,{title:"Catagories"}),r.a.createElement(Y.a,{color:"primary",onClick:m}," Add Catagory "),r.a.createElement(b,null))}function ra(e){return ca.apply(this,arguments)}function ca(){return(ca=Object(u.a)(o.a.mark((function e(t){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"/api/catagories/delete",e.next=3,Ge("DELETE","/api/catagories/delete",{catagory_id:t});case 3:return a=e.sent,e.abrupt("return",a.ok);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function la(e,t){return ia.apply(this,arguments)}function ia(){return(ia=Object(u.a)(o.a.mark((function e(t,a){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"/api/catagories/update",e.next=3,Ge("PUT","/api/catagories/update",{catagory_id:t,catagory_name:a});case 3:return n=e.sent,e.abrupt("return",n.ok);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var oa=Object(d.a)({button:{margin:"1rem",width:"80vmin"}});function sa(){var e=Object(l.g)().id,t="/api/catagories/get?catagory_id=".concat(e),a=oa(),c=Object(n.useState)(!1),i=Object(s.a)(c,2),d=i[0],p=i[1],m=Object(n.useState)(""),f=Object(s.a)(m,2),b=f[0],E=f[1],v=Object(n.useState)(""),g=Object(s.a)(v,2),h=g[0],y=g[1],O=Object(n.useState)("Catagory"),j=Object(s.a)(O,2),w=j[0],x=j[1],k=Object(l.f)();Object(n.useEffect)((function(){(function(){var e=Object(u.a)(o.a.mark((function e(){var a,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return p(!0),e.next=3,Ge("GET",t);case 3:return a=e.sent,e.next=6,a.json();case 6:n=e.sent,y(n.catagory_name),p(!1),x(n.catagory_name);case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()().catch((function(e){return E(e)}))}),[]);var C=function(){var t,n=function(){var t=Object(u.a)(o.a.mark((function t(){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(window.confirm("Are You Sure You Want To Delete This Catagory?")){t.next=3;break}return t.abrupt("return");case 3:return t.next=5,ra(e);case 5:if(!t.sent){t.next=10;break}return window.alert("Catagory Deleted"),k.goBack(),t.abrupt("return");case 10:window.alert("Failed to Delete");case 11:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),c=function(){var t=Object(u.a)(o.a.mark((function t(){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(window.confirm("Are You Sure You Want To Update")){t.next=3;break}return t.abrupt("return");case 3:return t.next=5,la(e,h);case 5:if(!t.sent){t.next=10;break}return window.alert("Catagory Updated"),k.goBack(),t.abrupt("return");case 10:window.alert("Failed To Update");case 11:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return r.a.createElement("div",{className:"button-container"},r.a.createElement(Y.a,{color:"primary",onClick:n},"Delete"),r.a.createElement(D.a,(t={value:h,label:"Name",variant:"outlined",className:a.button},Object(Bt.a)(t,"value",h),Object(Bt.a)(t,"autoFocus",!0),Object(Bt.a)(t,"onChange",(function(e){y(e.target.value)})),Object(Bt.a)(t,"required",!0),t)),r.a.createElement(Y.a,{color:"primary",variant:"contained",onClick:c},"Update"))},T=function(){return d?r.a.createElement(M.a,{color:"primary"}):b?r.a.createElement(B,null," ",b," "):r.a.createElement(C,null)};return r.a.createElement(_,null,r.a.createElement(Ce,{title:w}),r.a.createElement(T,null),r.a.createElement("h2",null," Suppliers "),r.a.createElement(Ht,{catagory_id:e}))}var ua=a(227),da=a(220),pa=a(200),ma=Object(d.a)((function(e){return{formControl:{margin:e.spacing(1),minWidth:120}}}));function fa(e){var t=e.label,a=e.options,c=void 0===a?[]:a,l=e.selection,i=void 0===l?{value:"All"}:l,o=e.setSelection,u=ma(),d=Object(n.useState)(i.id),p=Object(s.a)(d,2),m=p[0],f=p[1];return Object(n.useEffect)((function(){o(i.id)}),[]),r.a.createElement(A.a,{className:u.formControl},r.a.createElement(ua.a,{id:"demo-simple-select-label"},t),r.a.createElement(da.a,{labelId:t,value:m,onChange:function(e){f(e.target.value),o(e.target.value)}},i.id?null:r.a.createElement(pa.a,{value:i.id},String(i.value)),c.map((function(e){return r.a.createElement(pa.a,{key:e.id,value:e.id},String(e.value))}))))}var ba=r.a.createContext(),Ea=r.a.createContext(),va=r.a.createContext(),ga=r.a.createContext(),ha="supplier",ya="city",Oa="email",ja="description",wa="togglevisibility",xa="password",ka="repassword",_a="catagory",Ca="contact";function Ta(e,t){switch(t.type){case ha:return Object(Ae.a)(Object(Ae.a)({},e),{},{supplier_name:t.payload});case ya:return Object(Ae.a)(Object(Ae.a)({},e),{},{city_id:t.payload});case Oa:return Object(Ae.a)(Object(Ae.a)({},e),{},{email_id:t.payload});case wa:return Object(Ae.a)(Object(Ae.a)({},e),{},{visible:!e.visible});case xa:return Object(Ae.a)(Object(Ae.a)({},e),{},{password:t.payload});case ja:return Object(Ae.a)(Object(Ae.a)({},e),{},{supplier_description:t.payload});case ka:return Object(Ae.a)(Object(Ae.a)({},e),{},{repassword:t.payload});case _a:return Object(Ae.a)(Object(Ae.a)({},e),{},{catagory_id:t.payload});case Ca:return Object(Ae.a)(Object(Ae.a)({},e),{},{contact_number:t.payload});default:return e}}function Sa(){var e=Object(n.useContext)(ba),t=Object(s.a)(e,2);return{state:t[0],dispatch:t[1]}}function Na(){var e=Object(n.useContext)(Ea),t=Object(s.a)(e,2);return{file:t[0],setFile:t[1]}}function Pa(e){var t=e.children,a=Object(n.useReducer)(Ta,{supplier_name:"",city_id:"",email_id:"",supplier_description:"",visible:!1,password:"",repassword:"",catagory_id:"",contact_number:""}),c=Object(s.a)(a,2),l=c[0],i=c[1],o=Object(n.useState)(!1),u=Object(s.a)(o,2),d=u[0],p=u[1],m=Object(n.useState)([]),f=Object(s.a)(m,2),b=f[0],E=f[1],v=Object(n.useState)(),g=Object(s.a)(v,2),h=g[0],y=g[1];return r.a.createElement(ba.Provider,{value:[l,i]},r.a.createElement(ga.Provider,{value:[b,E]},r.a.createElement(va.Provider,{value:[d,p]},r.a.createElement(Ea.Provider,{value:[h,y]},t))))}var Ia=a(156);function Ra(){return Aa.apply(this,arguments)}function Aa(){return(Aa=Object(u.a)(o.a.mark((function e(){var t,a,n,r,c,l,i,s,u,d,p=arguments;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=p.length>0&&void 0!==p[0]?p[0]:"POST",a=p.length>1?p[1]:void 0,n=p.length>2?p[2]:void 0,r=sessionStorage.getItem("accessToken"),c=localStorage.getItem("refreshToken"),e.next=7,Fe(r);case 7:if(e.sent){e.next=13;break}return e.next=11,f(c);case 11:r=e.sent,sessionStorage.setItem("accessToken",r);case 13:for(i in l=new FormData,n)l.append(i.toString(),n[i]);s=Object(Ia.a)(l.values());try{for(s.s();!(u=s.n()).done;)d=u.value,console.log(d)}catch(o){s.e(o)}finally{s.f()}return e.next=19,fetch(a,{method:t,headers:{authorization:"bearer ".concat(r)},body:l});case 19:return e.abrupt("return",e.sent);case 20:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Da(e){var t=e.url,a=e.setFile,c=Object(n.useState)(t),l=Object(s.a)(c,2),i=l[0],o=l[1];return r.a.createElement(r.a.Fragment,null,i&&r.a.createElement("img",{src:i,style:{height:200,width:300,objectFit:"cover"},alt:"Logo"}),r.a.createElement("div",{style:{display:"flex",alignItems:"center",justifyItems:"center",justifyContent:"space-evenly",width:"90%"}},i&&r.a.createElement(Y.a,{onClick:function(){o(),a()},color:"primary"},"Remove"),r.a.createElement(Y.a,{variant:"contained",color:"primary"},r.a.createElement("label",{for:"file",id:"upload"},"Add Photo")),r.a.createElement("input",{type:"file",id:"file",accept:".jpg,.jpeg,.webp,.png",onChange:function(e){var t=e.target.files[0];o(URL.createObjectURL(t)),a(t)},hidden:!0})))}var La=Object(d.a)({button:{margin:"1rem",width:"80vmin"},wrapper:{display:"flex",flexDirection:"column",padding:"1em",paddingBottom:"1em",height:"80%",alignItems:"center",overflowY:"scroll"},fullcontainer:{display:"flex",width:"100%",justifyContent:"space-evenly"}});function Fa(){var e=La(),t=Sa(),a=t.state,n=t.dispatch,c=Na(),l=c.file,i=c.setFile,o=Xt(),s=o.loading,u=o.result,d=o.err,p=Ut(),m=p.loading,f=p.result,b=p.err;return m||s?r.a.createElement(q,{loading:!0}):b||d?r.a.createElement(z,{errors:[b,d]}):r.a.createElement(r.a.Fragment,null,r.a.createElement(Qe,{checked:a.visible,onChange:function(e){return n({type:wa})},label:"Visible"}),r.a.createElement(Da,{file:l,setFile:i}),r.a.createElement(D.a,{label:"Name",variant:"outlined",className:e.button,value:a.supplier_name,onChange:function(e){return n({type:ha,payload:e.target.value})},required:!0}),r.a.createElement(D.a,{label:"Email",variant:"outlined",type:"email",className:e.button,value:a.email_id,onChange:function(e){return n({type:Oa,payload:e.target.value})},required:!0}),r.a.createElement(D.a,{label:"Description",variant:"outlined",multiline:!0,rows:5,className:e.button,value:a.supplier_description,onChange:function(e){return n({type:ja,payload:e.target.value})},required:!0}),r.a.createElement(D.a,{label:"Password",variant:"outlined",type:"password",className:e.button,value:a.password,onChange:function(e){return n({type:xa,payload:e.target.value})},required:!0}),r.a.createElement(D.a,{label:"Retype Password",variant:"outlined",type:"password",className:e.button,value:a.repassword,onChange:function(e){return n({type:ka,payload:e.target.value})},required:!0}),r.a.createElement(D.a,{label:"Contact Number",variant:"outlined",type:"tel",className:e.button,value:a.contact_number,onChange:function(e){return n({type:Ca,payload:e.target.value})},required:!0}),r.a.createElement("div",{className:e.fullcontainer},r.a.createElement(fa,{label:"City",setSelection:function(e){n({type:ya,payload:e})},options:f.map((function(e){return{id:e.city_id,value:e.city_name}})),selection:{id:f[0].city_id,value:f[0].city_name}}),r.a.createElement(fa,{label:"Catagory",setSelection:function(e){n({type:_a,payload:e})},options:u.map((function(e){return{id:e.catagory_id,value:e.catagory_name}})),selection:{id:u[0].catagory_id,value:u[0].catagory_name}})))}var Ya=Object(d.a)({button:{margin:"1rem",width:"80vmin"},wrapper:{display:"flex",flexDirection:"column",padding:"1em",height:"80%",alignItems:"center",overflowY:"scroll"},inside:{display:"flex",flexDirection:"column",margin:"0.5em",alignItems:"center",padding:"0.5em"}});function Ua(e){return Wa.apply(this,arguments)}function Wa(){return(Wa=Object(u.a)(o.a.mark((function e(t){var a,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"/api/suppliers/add",a=Object(Ae.a)({},t),e.next=4,Ra("POST","/api/suppliers/add",a);case 4:if(!(n=e.sent).ok){e.next=7;break}return e.abrupt("return",n.ok);case 7:return e.next=9,n.text();case 9:throw e.sent;case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ma(e){var t=[];return ze(e.email_id)||(t=[].concat(Object(qe.a)(t),["Invalid Email"])),He(e.password)||(t=[].concat(Object(qe.a)(t),["Password should Be Atleast 6 digit long"])),e.password!==e.repassword&&(t=[].concat(Object(qe.a)(t),["Passwords Don't Match"])),t}function qa(e){var t=e.handleClose;return r.a.createElement(Pa,null,r.a.createElement(Ga,{handleClose:t}))}function Ga(e){var t=e.handleClose,a=Ya(),c=Sa().state,l=function(){var e=Object(n.useContext)(va),t=Object(s.a)(e,2);return{loading:t[0],setLoading:t[1]}}(),i=l.loading,d=l.setLoading,m=function(){var e=Object(n.useContext)(ga),t=Object(s.a)(e,2);return{err:t[0],setErr:t[1]}}(),f=m.err,b=m.setErr,E=Na().file,v=function(){var e=Object(u.a)(o.a.mark((function e(){var a,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(b([]),!((a=Ma(c)).length>0)){e.next=5;break}return b(Object(qe.a)(a)),e.abrupt("return");case 5:return e.prev=5,d(!0),e.next=9,Ua(Object(Ae.a)(Object(Ae.a)({},c),{},{file:E}));case 9:if(n=e.sent,d(!1),!n){e.next=14;break}return t(),e.abrupt("return",alert("Suppliers Added"));case 14:throw"Failed To Add Suppliers";case 17:e.prev=17,e.t0=e.catch(5),d(!1),b([String(e.t0)]);case 21:case"end":return e.stop()}}),e,null,[[5,17]])})));return function(){return e.apply(this,arguments)}}();return r.a.createElement(p.a,{className:a.wrapper},r.a.createElement("div",{className:a.inside},r.a.createElement(q,{loading:i}),r.a.createElement(z,{errors:f}),r.a.createElement(Fa,null),r.a.createElement(Je,{okLabel:"Add Supplier",onClickOk:v,cancelLabel:"Cancel",onClickCancel:t})))}var Ba=Object(d.a)((function(e){return{wrapper:{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"center",flexWrap:"wrap",gap:"1em"},backdrop:{zIndex:e.zIndex.drawer+1,color:"#fff"}}}));function za(e){var t=e.open,a=e.handleClose,n=Ba();return r.a.createElement(xe.a,{open:t,className:n.backdrop},r.a.createElement(qa,{handleClose:a}))}var Ha="setvisibility",Va="setsuppliername",Ja="setcatagory",Za="setcity";function $a(e,t){switch(t.type){case Ha:return Object(Ae.a)(Object(Ae.a)({},e),{},{visible:t.payload});case Va:return Object(Ae.a)(Object(Ae.a)({},e),{},{supplier_name:t.payload});case Ja:return Object(Ae.a)(Object(Ae.a)({},e),{},{catagory_id:t.payload});case Za:return Object(Ae.a)(Object(Ae.a)({},e),{},{city_id:t.payload});default:return e}}function Ka(e){e.state;var t=e.dispatch,a=Ba(),c=Xt(),l=c.loading,i=c.result,o=c.err,u=Ut(),d=u.loading,p=u.result,m=u.err,f=Object(n.useState)(""),b=Object(s.a)(f,2),E=b[0],v=b[1];return l||d?r.a.createElement(M.a,{color:"primary"}):o||m?r.a.createElement(B,null," Something Went Wrong "):r.a.createElement("div",{className:a.wrapper},r.a.createElement(fa,{label:"City",options:p.map((function(e){return{id:e.city_id,value:e.city_name}})),setSelection:function(e){return t({type:Za,payload:e})}}),r.a.createElement(fa,{label:"Catagory",options:i.map((function(e){return{id:e.catagory_id,value:e.catagory_name}})),setSelection:function(e){return t({type:Ja,payload:e})}}),r.a.createElement(fa,{label:"Visible",options:[{id:!0,value:"True"},{id:!1,value:"False"}],setSelection:function(e){return t({type:Ha,payload:e})}}),r.a.createElement("div",{className:a.wrapper},r.a.createElement(D.a,{variant:"outlined",value:E,label:"Name",onChange:function(e){return v(e.target.value)},type:"search"}),r.a.createElement(Y.a,{color:"primary",onClick:function(){return t({type:Va,payload:E})}},"Search")))}function Qa(){var e=Object(n.useReducer)($a,{visible:null,supplier_name:"",catagory_id:"",city_id:""}),t=Object(s.a)(e,2),a=t[0],c=t[1],l=Object(n.useState)(!1),i=Object(s.a)(l,2),o=i[0],u=i[1];return r.a.createElement(_,null,r.a.createElement(Ce,{title:"Suppliers"}),r.a.createElement(Ka,{state:a,dispatch:c}),r.a.createElement(za,{open:o,handleClose:function(){u(!1)}}),r.a.createElement(Y.a,{color:"primary",onClick:function(){u(!0)}},"Add New"),r.a.createElement(Ht,{visible:a.visible,supplier_name:a.supplier_name,catagory_id:a.catagory_id,city_id:a.city_id}))}var Xa=r.a.createContext(),en=r.a.createContext(),tn=r.a.createContext(),an={SETALL:"setall",SETSUPPLIER:"setsupplier",SETCITY:"setcity",SETEMAIL:"setemail",TOGGLEVISIBILITY:"togglevisible",SETCATAGORY:"setcatagory",SETCONTACT:"setcontact",SETDESCRIPTION:"setdescription"};function nn(e,t){switch(t.type){case an.SETALL:return Object(Ae.a)({},t.payload);case an.SETSUPPLIER:return Object(Ae.a)(Object(Ae.a)({},e),{},{supplier_name:t.payload});case an.SETCITY:return Object(Ae.a)(Object(Ae.a)({},e),{},{city_id:t.payload});case an.SETEMAIL:return Object(Ae.a)(Object(Ae.a)({},e),{},{email_id:t.payload});case an.TOGGLEVISIBILITY:return Object(Ae.a)(Object(Ae.a)({},e),{},{visible:!e.visible});case an.SETDESCRIPTION:return Object(Ae.a)(Object(Ae.a)({},e),{},{supplier_description:t.payload});case an.SETCATAGORY:return Object(Ae.a)(Object(Ae.a)({},e),{},{catagory_id:t.payload});case an.SETCONTACT:return Object(Ae.a)(Object(Ae.a)({},e),{},{contact_number:t.payload});default:return e}}function rn(){var e=Object(n.useContext)(Xa),t=Object(s.a)(e,2);return{state:t[0],dispatch:t[1]}}function cn(e){var t=e.supplier_id,a=e.children,c="/api/suppliers/get?supplier_id=".concat(t),l=Object(n.useReducer)(nn,{supplier_name:"",image_id:"",city_id:"",email_id:"",supplier_description:"",visible:!0,catagory_id:"",contact_number:""}),i=Object(s.a)(l,2),d=i[0],p=i[1],m=Object(n.useState)(!1),f=Object(s.a)(m,2),b=f[0],E=f[1],v=Object(n.useState)(""),g=Object(s.a)(v,2),h=g[0],y=g[1];return Object(n.useEffect)((function(){(function(){var e=Object(u.a)(o.a.mark((function e(){var t,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return E(!0),e.next=3,Ge("GET",c);case 3:if((t=e.sent).ok){e.next=6;break}throw t.statusText;case 6:return e.next=8,t.json();case 8:a=e.sent,p({type:an.SETALL,payload:a}),E(!1);case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()().catch((function(e){E(!1),y(e)}))}),[t]),r.a.createElement(Xa.Provider,{value:[d,p]},r.a.createElement(en.Provider,{value:[b,E]},r.a.createElement(tn.Provider,{value:[h,y]},a)))}var ln=Object(d.a)({button:{margin:"1rem",width:"80vmin"},wrapper:{display:"flex",flexDirection:"column",padding:"1em",alignItems:"center",gap:"1em"}});function on(e){var t=e.url,a=e.handleClose,c=void 0===a?function(){}:a,l=e.object_info,i=void 0===l?{}:l,d=e.image_id,m=ln(),f=Object(n.useState)(),b=Object(s.a)(f,2),E=b[0],v=b[1],g="/images/".concat(d),h=function(){var e=Object(u.a)(o.a.mark((function e(){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ra("PUT",t,Object(Ae.a)({file:E},i));case 2:if((a=e.sent).ok){e.next=9;break}return e.t0=alert,e.next=7,a.text();case 7:return e.t1=e.sent,e.abrupt("return",(0,e.t0)(e.t1));case 9:alert("photo updated"),c();case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return r.a.createElement(p.a,{className:m.wrapper},r.a.createElement(Da,{setFile:v,url:g}),r.a.createElement(Je,{okLabel:"Update",onClickOk:h,cancelLabel:"Cancel",onClickCancel:c}))}var sn=Object(d.a)((function(e){return{button:{margin:"1rem",width:"80vmin"},wrapper:{display:"flex",flexDirection:"column",padding:"1em",paddingBottom:"1em",height:"80%",alignItems:"center",overflowY:"scroll"},fullcontainer:{display:"flex",width:"100%",justifyContent:"space-evenly"},backdrop:{zIndex:e.zIndex.drawer+1,color:"#fff"}}}));function un(e){var t=e.open,a=e.handleClose,n=e.supplier_id,c=e.image_id,l=Object(C.a)(e,["open","handleClose","supplier_id","image_id"]),i=sn();return r.a.createElement(xe.a,Object.assign({open:t,className:i.backdrop},l),r.a.createElement(on,{handleClose:a,url:"/api/suppliers/update/photo",object_info:{supplier_id:n},image_id:c}))}function dn(e){var t=e.supplier_id,a=sn(),c=rn(),l=c.state,i=c.dispatch,o=Object(n.useState)(!1),u=Object(s.a)(o,2),d=u[0],p=u[1],m=Xt(),f=m.loading,b=m.result,E=(m.err,Ut()),v=E.loading,g=E.result;E.err;if(v||f)return r.a.createElement(q,{loading:!0});return r.a.createElement("div",{style:{alignItems:"center",display:"flex",flexDirection:"column"}},r.a.createElement("img",{src:"/images/".concat(l.image_id),style:{height:200,width:300,objectFit:"contain"}}),r.a.createElement(Y.a,{color:"primary",onClick:function(){return p(!0)}},"Update Photo"),r.a.createElement(un,{open:d,handleClose:function(){return p(!1)},supplier_id:t,image_id:l.image_id}),r.a.createElement(D.a,{label:"Name",variant:"outlined",className:a.button,value:l.supplier_name,onChange:function(e){return i({type:an.SETSUPPLIER,payload:e.target.value})},required:!0}),r.a.createElement(D.a,{label:"Email",variant:"outlined",type:"email",className:a.button,value:l.email_id,onChange:function(e){return i({type:an.SETEMAIL,payload:e.target.value})},required:!0}),r.a.createElement(Qe,{checked:l.visible,onChange:function(e){return i({type:an.TOGGLEVISIBILITY})},label:"Visible"}),r.a.createElement(D.a,{label:"Description",variant:"outlined",multiline:!0,rows:5,className:a.button,value:l.supplier_description,onChange:function(e){return i({type:an.SETDESCRIPTION,payload:e.target.value})},required:!0}),r.a.createElement(D.a,{label:"Contact Number",variant:"outlined",type:"tel",className:a.button,value:l.contact_number,onChange:function(e){return i({type:an.SETCONTACTNUM,payload:e.target.value})},required:!0}),r.a.createElement("div",{className:a.fullcontainer},r.a.createElement(fa,{label:"City",setSelection:function(e){i({type:an.SETCITY,payload:e})},options:g.map((function(e){return{id:e.city_id,value:e.city_name}})),selection:{id:l.city_id}}),r.a.createElement(fa,{label:"Catagory",setSelection:function(e){i({type:an.SETCATAGORY,payload:e})},options:b.map((function(e){return{id:e.catagory_id,value:e.catagory_name}})),selection:{id:l.catagory_id}})))}function pn(e){var t=e.supplier_id;return r.a.createElement(cn,{supplier_id:t},r.a.createElement(mn,{supplier_id:t}))}function mn(e){var t=e.supplier_id,a=Object(l.f)(),c=rn().state,i=function(){var e=Object(u.a)(o.a.mark((function e(){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(window.confirm("Are You Sure You Want To Delete this Account?")){e.next=3;break}return e.abrupt("return");case 3:return"/api/suppliers/delete",n={supplier_id:t},e.next=7,Ge("DELETE","/api/suppliers/delete",n);case 7:if(!e.sent.ok){e.next=12;break}return alert("Supplier Deleted"),a.goBack(),e.abrupt("return");case 12:alert("Failed To Delete");case 13:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),d=function(){var e=Object(u.a)(o.a.mark((function e(){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(window.confirm("Are You Sure You Want To Update")){e.next=3;break}return e.abrupt("return");case 3:return a=Object(Ae.a)(Object(Ae.a)({},c),{},{supplier_id:t}),"/api/suppliers/update",e.next=7,Ge("PUT","/api/suppliers/update",a);case 7:if(!e.sent.ok){e.next=11;break}return alert("Supplier Updated"),e.abrupt("return");case 11:alert("Failed To Update");case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),p=function(){var e=Object(n.useContext)(en),t=Object(s.a)(e,2);return{loading:t[0],setLoading:t[1]}}().loading,m=function(){var e=Object(n.useContext)(tn),t=Object(s.a)(e,2);return{err:t[0],setErr:t[1]}}().err;return p?r.a.createElement(q,{loading:!0}):m?r.a.createElement(z,{errors:[m]}):r.a.createElement(r.a.Fragment,null,r.a.createElement(dn,{supplier_id:t}),r.a.createElement(Je,{okLabel:"Update",cancelLabel:"Delete",onClickOk:d,onClickCancel:i}))}var fn=Object(d.a)({container:{maxWidth:1e3,width:"90%",margin:10},table:{width:"100%",overflow:"scroll"},head:{backgroundColor:x.PRIMARY_RED,color:x.PRIMARY_WHITE,fontWeight:"bolder"}});function bn(e){var t=function(e){var t=e.supplier_id,a=e.available,n=new URLSearchParams;t&&n.append("supplier_id",t),null!=a&&n.append("available",a);var r=Yt("GET","/api/products/getall?".concat(n));return{err:r.err,loading:r.loading,result:r.result}}({supplier_id:e.supplier_id,available:e.available}),a=t.err,n=t.loading,c=t.result,i=fn(),o=Object(l.f)();return n?r.a.createElement(M.a,{color:"primary"}):a?r.a.createElement(B,null," ",a," "):r.a.createElement(Te.a,{component:p.a,className:i.container},r.a.createElement(Se.a,{"aria-label":"products table",className:i.table},r.a.createElement(Ne.a,{className:i.head},r.a.createElement(Pe.a,null,r.a.createElement(Ie.a,{align:"center",className:i.head},"Name"),r.a.createElement(Ie.a,{align:"center",className:i.head},"Description"),r.a.createElement(Ie.a,{align:"center",className:i.head},"Available"),r.a.createElement(Ie.a,{align:"center",className:i.head},"Price"))),r.a.createElement(Re.a,null,c.map((function(e){return r.a.createElement(Pe.a,{key:e.product_id,onClick:function(){o.push("/admin/products/".concat(e.product_id))}},r.a.createElement(Ie.a,{component:"th",scope:"row",align:"center"},e.product_name),r.a.createElement(Ie.a,{align:"center"},e.product_description),r.a.createElement(Ie.a,{align:"center"},e.available?"Yes":"No"),r.a.createElement(Ie.a,{align:"center"},e.price))})))))}function En(){var e=Object(l.g)().id;return r.a.createElement(_,null,r.a.createElement(Ce,{title:"Supplier"}),r.a.createElement(pn,{supplier_id:e}),r.a.createElement(bn,{supplier_id:e}))}var vn=a(157),gn=a(158),hn=Object(d.a)({container:{minWidth:150,display:"flex",gap:40,alignItems:"center",justifyContent:"center"}});function yn(e){var t=e.page,a=void 0===t?0:t,n=e.setPage,c=e.hasMore,l=void 0===c||c,i=hn();return a>0||l?r.a.createElement(p.a,{className:i.container},a>0&&r.a.createElement(Y.a,{onClick:function(){n((function(e){return e>0?e-1:0}))}},r.a.createElement(vn.a,{fontSize:"large"})),r.a.createElement(G.a,{variant:"h5"}," ",a+1),l&&r.a.createElement(Y.a,{onClick:function(){n((function(e){return l?e+1:e}))}},r.a.createElement(gn.a,{fontSize:"large"}))):null}function On(){var e=Ue("GET","/api/admin/orders/getorderstatus");return{err:e.err,loading:e.loading,result:e.result}}var jn=Object(d.a)({container:{maxWidth:1e3,width:"90%",margin:10},table:{width:"100%",overflow:"scroll"},head:{backgroundColor:x.PRIMARY_RED,color:x.PRIMARY_WHITE,fontWeight:"bolder"}});function wn(e){var t=e.orders,a=void 0===t?[]:t,n=jn(),c=Object(l.f)();return r.a.createElement(Te.a,{component:p.a,className:n.container},r.a.createElement(Se.a,{"aria-label":"products table",className:n.table},r.a.createElement(Ne.a,{className:n.head},r.a.createElement(Pe.a,null,r.a.createElement(Ie.a,{align:"center",className:n.head},"Index"),r.a.createElement(Ie.a,{align:"center",className:n.head},"Status"),r.a.createElement(Ie.a,{align:"center",className:n.head},"Time"))),r.a.createElement(Re.a,null,a.map((function(e,t){return r.a.createElement(Pe.a,{key:e.order_id,onClick:function(){c.push("/admin/orders/".concat(e.order_id))}},r.a.createElement(Ie.a,{component:"th",scope:"row",align:"center"},t+1),r.a.createElement(Ie.a,{align:"center"},e.order_status),r.a.createElement(Ie.a,{align:"center"},function(e){function t(e){return e<10?"0".concat(e):"".concat(e)}var a=new Date(e),n=a.getHours(),r=n<12?"AM":"PM";n%=12,n+=0===n?12:0;var c=t(a.getMonth()+1),l=t(a.getDate()),i=t(n),o=t(a.getMinutes());return"".concat(i,":").concat(o," ").concat(r," ").concat(l,"/").concat(c)}(e.ordered_time)))})))))}var xn=a(221),kn=a(202),_n=Object(d.a)({container:{maxWidth:1e3,width:"90%",margin:10}});function Cn(e){var t=e.orderTypes,a=void 0===t?[]:t,n=e.orderType,c=e.setOrderType,l=_n();return console.log(a),r.a.createElement(p.a,{square:!0,className:l.container},r.a.createElement(xn.a,{value:n,indicatorColor:"primary",textColor:"primary",onChange:function(e,t){c(t)},"aria-label":"Order Tabs",variant:"scrollable",scrollButtons:"auto"},r.a.createElement(kn.a,{label:"All",value:""}),a.map((function(e){return r.a.createElement(kn.a,{label:e.toUpperCase(),value:e})}))))}function Tn(){var e=Object(n.useState)(0),t=Object(s.a)(e,2),a=t[0],c=t[1],l=Object(n.useState)(""),i=Object(s.a)(l,2),o=i[0],u=i[1],d=Object(n.useState)(!1),p=Object(s.a)(d,2),m=p[0],f=p[1],b=function(e){var t=e.order_status,a=e.page_number,n=void 0===a?0:a,r=(e.payed,e.order),c=new URLSearchParams;t&&c.append("order_status",t),n&&c.append("page_number",n),r&&c.append("order",r);var l=Ue("GET","/api/admin/orders/getall?".concat(c)),i=l.err,o=l.loading,s=l.result;return{err:i,loading:o,result:void 0===s?[]:s}}({page_number:a,order_status:o,order:m?"asc":"desc"}),E=b.err,v=b.loading,g=b.result,h=void 0===g?[]:g,y=On(),O=y.err,j=y.loading,w=y.result,x=Object(n.useState)(!0),k=Object(s.a)(x,2),_=k[0],C=k[1];Object(n.useEffect)((function(){if(h.length<10)return C(!1);C(!0)}),[h]),Object(n.useEffect)((function(){c(0)}),[o,m]);var T=function(){return j?r.a.createElement(q,{loading:j}):O?r.a.createElement(z,{errors:[O]}):r.a.createElement(Cn,{setOrderType:u,orderType:o,orderTypes:w})},S=function(){return v?r.a.createElement(q,{loading:v}):E?r.a.createElement(z,{errors:[E]}):r.a.createElement(wn,{orders:h})};return r.a.createElement(r.a.Fragment,null,r.a.createElement(T,null),r.a.createElement(Qe,{label:"Show Oldest First",checked:m,onChange:function(e){f((function(e){return!e}))}}),r.a.createElement(yn,{page:a,setPage:c,hasMore:_}),r.a.createElement(S,null))}function Sn(){return r.a.createElement(_,null,r.a.createElement(Ce,{title:"Orders"}),r.a.createElement(Tn,null))}var Nn=a(165),Pn=Object(d.a)({container:{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"space-between",minWidth:200}});function In(){return(In=Object(u.a)(o.a.mark((function e(t){var a,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.order_id,n=t.order_status,"/api/admin/orders/update","PUT",e.next=5,Ge("PUT","/api/admin/orders/update",{order_id:a,order_status:n});case 5:if(!e.sent.ok){e.next=8;break}return e.abrupt("return",alert("Order Updated"));case 8:alert("Failed To Update Order!!!");case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Rn(e){var t=e.label,a=e.value,n=e.setValue,c=e.options,l=void 0===c?[]:c;return r.a.createElement(A.a,null,r.a.createElement(ua.a,{id:"order_status"},t),r.a.createElement(da.a,{labelId:t,value:a,onChange:function(e){n(e.target.value)}},l.map((function(e){return r.a.createElement(pa.a,{key:e,value:e},String(e).toUpperCase())}))))}function An(e){var t=e.order_status,a=e.order_id,c=On(),l=c.err,i=c.loading,o=c.result,u=Object(n.useState)(t),d=Object(s.a)(u,2),p=d[0],m=d[1],f=Pn();return i?r.a.createElement(q,{loading:i}):l?r.a.createElement(z,{errors:[l]}):r.a.createElement(Nn.a,{className:f.container},r.a.createElement(Rn,{label:"Order Status",value:p,setValue:m,options:o}),r.a.createElement(W,{onClick:function(){!function(e){In.apply(this,arguments)}({order_id:a,order_status:p})}}," Update "))}var Dn=Object(d.a)({container:{maxWidth:1e3,width:"90%",margin:10},table:{width:"100%",overflow:"scroll"},head:{backgroundColor:x.PRIMARY_RED,color:x.PRIMARY_WHITE,fontWeight:"bolder"}});function Ln(e){var t=e.ordered_items,a=void 0===t?[]:t,n=Dn(),c=Object(l.f)();return r.a.createElement(Te.a,{component:p.a,className:n.container},r.a.createElement(Se.a,{"aria-label":"products table",className:n.table},r.a.createElement(Ne.a,{className:n.head},r.a.createElement(Pe.a,null,r.a.createElement(Ie.a,{align:"center",className:n.head},"Index"),r.a.createElement(Ie.a,{align:"center",className:n.head},"Name"),r.a.createElement(Ie.a,{align:"center",className:n.head},"Price"),r.a.createElement(Ie.a,{align:"center",className:n.head},"Quantity"),r.a.createElement(Ie.a,{align:"center",className:n.head},"Total"))),r.a.createElement(Re.a,null,a.map((function(e,t){return r.a.createElement(Pe.a,{key:e.ordered_item_id,onClick:function(){c.push("/admin/products/".concat(e.product_id))}},r.a.createElement(Ie.a,{component:"th",scope:"row",align:"center"},t+1),r.a.createElement(Ie.a,{align:"center"},e.product_name),r.a.createElement(Ie.a,{align:"center"},e.price),r.a.createElement(Ie.a,{align:"center"},e.quantity),r.a.createElement(Ie.a,{align:"center"},Number(e.quantity)*Number(e.price)))})),r.a.createElement(Pe.a,{key:"Total"},r.a.createElement(Ie.a,{align:"center"}," "),r.a.createElement(Ie.a,{component:"th",scope:"row",align:"center"}," ","Total"," "),r.a.createElement(Ie.a,{align:"center"}," "),r.a.createElement(Ie.a,{align:"center"}," "),r.a.createElement(Ie.a,{align:"center"},a.reduce((function(e,t){return parseInt(e)+parseInt(t.price*t.quantity)}),0))))))}function Fn(e){var t=e.user;return r.a.createElement(r.a.Fragment,null,r.a.createElement("h3",null," User "),r.a.createElement(F,{label:"Name",defaultValue:t.user_name,InputProps:{readOnly:!0}}),r.a.createElement(F,{label:"Mobile No.",defaultValue:t.mobile_number,InputProps:{readOnly:!0}}),r.a.createElement(F,{label:"Email",defaultValue:t.email_id,InputProps:{readOnly:!0}}))}function Yn(e){var t=e.address;return r.a.createElement(r.a.Fragment,null,r.a.createElement("h3",null," Address: ","".concat(t.street_name,", ").concat(t.city_name)," "),t.details&&r.a.createElement("text",{style:{textAlign:"center"}},"Details: ",t.details))}function Un(e){var t=e.total,a=e.deliveryCharge,n=e.numOFSuppliers;return r.a.createElement(r.a.Fragment,null,r.a.createElement("b",null," Total: ",t),r.a.createElement("b",null,"Delivery Charge: ",a," from ",n," supplier(s)"))}function Wn(e){function t(e){return e<10?"0".concat(e):"".concat(e)}var a=new Date(e),n=a.getHours(),r=n<12?"AM":"PM";n%=12,n+=0===n?12:0;var c=t(a.getMonth()+1),l=t(a.getDate()),i=t(n),o=t(a.getMinutes());return"".concat(i,":").concat(o," ").concat(r," ").concat(l,"/").concat(c)}function Mn(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=e.reduce((function(e,t){var a=Number(t.price)*Number(t.quantity);return Number(e)+a}),0);return Number(t)}function qn(e){var t=function(e){var t=e.order_id,a=Ue("GET","/api/admin/orders/get?order_id=".concat(t));return{err:a.err,loading:a.loading,result:a.result}}({order_id:e.order_id}),a=t.err,n=t.loading,c=t.result,i=Object(l.f)();function s(){return(s=Object(u.a)(o.a.mark((function e(t){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t.order_id,window.confirm("Are You Sure You Want To Delete Order?")){e.next=4;break}return e.abrupt("return");case 4:return"/api/admin/orders/delete","DELETE",e.next=8,Ge("DELETE","/api/admin/orders/delete",{order_id:a});case 8:if(!e.sent.ok){e.next=12;break}return alert("Order Deleted"),e.abrupt("return",i.goBack());case 12:alert("Failed To Delete");case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return n?r.a.createElement(q,{loading:n}):a?r.a.createElement(z,{errors:[a]}):r.a.createElement(r.a.Fragment,null,r.a.createElement(An,{order_status:c.order.order_status,order_id:c.order.order_id}),r.a.createElement(W,{onClick:function(){!function(e){s.apply(this,arguments)}({order_id:c.order.order_id})}},"Delete Order"),r.a.createElement(Fn,{user:c.user}),r.a.createElement(F,{value:Wn(c.order.ordered_time),label:"Ordered Time"}),r.a.createElement(Ln,{ordered_items:c.ordered_items}),r.a.createElement(Un,{total:Mn(c.ordered_items)+parseInt(c.deliveryCharge),deliveryCharge:c.deliveryCharge,numOFSuppliers:c.numOfSuppliers}),r.a.createElement(Yn,{address:c.address}))}function Gn(){var e=Object(l.g)().id;return r.a.createElement(_,null,r.a.createElement(Ce,{title:"Order"}),r.a.createElement(qn,{order_id:e}))}function Bn(e){var t=function(e){var t=e.product_id,a=Yt("GET","/api/products/get?product_id=".concat(t));return{err:a.err,loading:a.loading,result:a.result}}({product_id:e.product_id}),a=t.err,n=t.loading,c=t.result,i=Object(l.f)();return a?r.a.createElement(z,{errors:[a]}):n?r.a.createElement(q,{loading:n}):r.a.createElement(r.a.Fragment,null,r.a.createElement("img",{src:"/images/".concat(c.image_id),style:{height:200,width:300,objectFit:"contain"},alt:c.product_name}),r.a.createElement("div",null,r.a.createElement("h3",null,"Available: ",c.available?"Yes":"No"," ")),r.a.createElement(F,{value:c.product_name,label:"Name"}),r.a.createElement(F,{value:c.product_name,label:"Description",multiline:!0,rows:5}),r.a.createElement(F,{value:c.price,label:"Price"}),r.a.createElement(W,{onClick:function(){i.push("/admin/suppliers/".concat(c.supplier_id))}},"Go To Supplier"))}function zn(){var e=Object(l.g)().id;return r.a.createElement(_,null,r.a.createElement(Ce,{title:"Product"}),r.a.createElement(Bn,{product_id:e}))}function Hn(e,t){return Vn.apply(this,arguments)}function Vn(){return(Vn=Object(u.a)(o.a.mark((function e(t,a){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"/api/admin/changepassword","PUT",e.next=4,Ge("PUT","/api/admin/changepassword",{old_password:t,new_password:a});case 4:if((n=e.sent).ok){e.next=12;break}return e.next=8,n.text();case 8:if(e.t0=e.sent,e.t0){e.next=11;break}e.t0="Failed To Update";case 11:throw e.t0;case 12:return e.abrupt("return",n.ok);case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Jn(){return r.a.createElement(ae.b,{initialValues:{oldpassword:"",newpassword:"",renewpassword:""},validate:function(e){var t={};return Object(ne.validatePassword)(e.newpassword)||(t.newpassword="Invalid Password"),0===e.newpassword.length&&(t.newpassword="Password Cant be Empty"),e.renewpassword!==e.newpassword&&(t.renewpassword="Passwords Donot Match"),t},onSubmit:function(){var e=Object(u.a)(o.a.mark((function e(t,a){var n,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.setSubmitting,r=a.resetForm,n(!0),e.prev=2,e.next=5,Hn(t.oldpassword,t.newpassword);case 5:if(!e.sent){e.next=8;break}alert("Password Changed"),r();case 8:e.next=13;break;case 10:e.prev=10,e.t0=e.catch(2),alert(e.t0);case 13:return e.prev=13,n(!1),e.finish(13);case 16:case"end":return e.stop()}}),e,null,[[2,10,13,16]])})));return function(t,a){return e.apply(this,arguments)}}()},(function(e){var t=e.values,a=e.handleSubmit,n=e.handleBlur,c=e.handleChange,l=e.isSubmitting,i=e.errors;return r.a.createElement(ce,null,l&&r.a.createElement(q,{loading:l}),r.a.createElement(F,{label:"Old Password",value:t.oldpassword,type:"password",error:!!i.oldpassword,helperText:i.oldpassword,onChange:c("oldpassword"),onBlur:n("oldpassword")}),r.a.createElement(F,{label:"New Password",value:t.newpassword,type:"password",error:!!i.newpassword,helperText:i.newpassword,onChange:c("newpassword"),onBlur:n("newpassword")}),r.a.createElement(F,{label:"Retype Password",value:t.renewpassword,type:"password",error:!!i.renewpassword,helperText:i.renewpassword,onChange:c("renewpassword"),onBlur:n("renewpassword")}),r.a.createElement(W,{onClick:a},"Change Password"))}))}function Zn(){return r.a.createElement(_,null,r.a.createElement(Ce,{title:"Change Password"}),r.a.createElement(Jn,null))}function $n(){return r.a.createElement(c.a,null,r.a.createElement(l.c,null,r.a.createElement(l.a,{exact:!0,path:"/admin/",component:we}),r.a.createElement(l.a,{exact:!0,path:"/admin/employees",component:Ot}),r.a.createElement(l.a,{exact:!0,path:"/admin/employees/:id",component:Ft}),r.a.createElement(l.a,{exact:!0,path:"/admin/cities/",component:Gt}),r.a.createElement(l.a,{exact:!0,path:"/admin/cities/:id",component:Qt}),r.a.createElement(l.a,{exact:!0,path:"/admin/catagories/",component:na}),r.a.createElement(l.a,{exact:!0,path:"/admin/catagories/:id",component:sa}),r.a.createElement(l.a,{exact:!0,path:"/admin/changepassword",component:Zn}),r.a.createElement(l.a,{exact:!0,path:"/admin/suppliers/",component:Qa}),r.a.createElement(l.a,{exact:!0,path:"/admin/suppliers/:id",component:En}),r.a.createElement(l.a,{exact:!0,path:"/admin/orders/",component:Sn}),r.a.createElement(l.a,{exact:!0,path:"/admin/orders/:id",component:Gn}),r.a.createElement(l.a,{exact:!0,path:"/admin/products/:id",component:zn})))}var Kn=a(100);function Qn(){var e=Object(n.useContext)(E),t=Object(n.useContext)(v),a=Object(n.useContext)(g);return e?r.a.createElement(ve,null):!t||a!==Kn.ADMIN&&a!==Kn.EMPLOYEE?r.a.createElement(fe,null):r.a.createElement($n,null)}t.default=function(){return r.a.createElement(w,null,r.a.createElement(Qn,null))}},88:function(e){e.exports=JSON.parse('{"PRIMARY_RED":"#FF2D2D","PRIMARY_WHITE":"#F2F2F2","PRIMARY_DARK":"#080808"}')}}]);
//# sourceMappingURL=8.267edd90.chunk.js.map