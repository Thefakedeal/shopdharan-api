(this.webpackJsonpadmin=this.webpackJsonpadmin||[]).push([[0],{19:function(e){e.exports=JSON.parse('{"PRIMARY_RED":"#FF2D2D","PRIMARY_WHITE":"#F2F2F2","PRIMARY_DARK":"#080808"}')},67:function(e,t,a){e.exports=a.p+"static/media/shopdharan.f6198331.png"},71:function(e,t,a){e.exports=a.p+"static/media/shopdharan-white.24657495.png"},79:function(e,t,a){e.exports=a(92)},84:function(e,t,a){},85:function(e,t,a){},92:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(15),l=a.n(c),i=(a(84),a(7)),o=(a(85),a(4)),u=a.n(o),s=a(9),p=a(127),m=a(147),d=a(135);function b(){var e=Object(n.useState)(localStorage.getItem("refreshToken")),t=Object(i.a)(e,2),a=t[0],r=t[1];return Object(n.useEffect)((function(){localStorage.setItem("refreshToken",a)}),[a]),[a,r]}function f(){var e=Object(n.useState)(sessionStorage.getItem("accessToken")),t=Object(i.a)(e,2),a=t[0],r=t[1];return Object(n.useEffect)((function(){sessionStorage.setItem("accessToken",a)}),[a]),[a,r]}function v(e){return E.apply(this,arguments)}function E(){return(E=Object(s.a)(u.a.mark((function e(t){var a,n,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={refreshToken:t},e.next=3,fetch("/api/token",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(a)});case 3:if((n=e.sent).ok){e.next=6;break}throw n.statusText;case 6:return e.next=8,n.json();case 8:return r=e.sent,e.abrupt("return",r.accessToken);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var y=r.a.createContext(),h=r.a.createContext();function g(){return Object(n.useContext)(h)}function O(e){var t=e.children,a=Object(n.useState)(!0),c=Object(i.a)(a,2),l=c[0],o=c[1],u=Object(n.useState)(!1),s=Object(i.a)(u,2),p=s[0],m=s[1],d=b(),E=Object(i.a)(d,2),g=E[0],O=(E[1],f()),j=Object(i.a)(O,2),w=(j[0],j[1]);return Object(n.useEffect)((function(){if(null==g)return o(!1),void m(!1);v(g).then((function(e){o(!1),m(!0),w(e)})).catch((function(e){console.log(e),o(!1),m(!1)}))}),[]),r.a.createElement(y.Provider,{value:l},r.a.createElement(h.Provider,{value:[p,m]},t))}function j(e){var t=e.children;return r.a.createElement("div",{className:"light-background"},t)}var w=a(67),x=a.n(w);function k(){return r.a.createElement("img",{src:x.a,className:"logo"})}var C=a(19);function _(e){var t=e.children;return r.a.createElement("div",{className:"red-text"},t)}function S(e,t){return T.apply(this,arguments)}function T(){return(T=Object(s.a)(u.a.mark((function e(t,a){var n,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={username:t,password:a},e.next=3,fetch("/api/admin/login",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(n)});case 3:if((r=e.sent).ok){e.next=8;break}return e.next=7,r.text();case 7:throw e.sent;case 8:return e.next=10,r.json();case 10:return e.abrupt("return",e.sent);case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function N(){var e=Object(n.useState)(""),t=Object(i.a)(e,2),a=t[0],c=t[1],l=Object(n.useState)(""),o=Object(i.a)(l,2),v=o[0],E=o[1],y=Object(n.useState)(!1),h=Object(i.a)(y,2),O=h[0],w=h[1],x=Object(n.useState)(""),C=Object(i.a)(x,2),T=C[0],N=C[1],I=b(),A=Object(i.a)(I,2),P=(A[0],A[1]),R=f(),D=Object(i.a)(R,2),L=(D[0],D[1]),Y=g(),F=Object(i.a)(Y,2),U=(F[0],F[1]),W=function(){var e=Object(s.a)(u.a.mark((function e(){var t,n,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,N(""),w(!0),e.next=5,S(a,v);case 5:t=e.sent,n=t.accessToken,r=t.refreshToken,w(!1),P(r),L(n),U(!0),e.next=18;break;case 14:e.prev=14,e.t0=e.catch(0),w(!1),N(e.t0);case 18:case"end":return e.stop()}}),e,null,[[0,14]])})));return function(){return e.apply(this,arguments)}}(),q=function(){return O?r.a.createElement(p.a,null):null},M=function(){return T?r.a.createElement(_,null,T):null};return r.a.createElement(j,null,r.a.createElement(k,null),r.a.createElement(q,null),r.a.createElement(M,null),r.a.createElement(m.a,{label:"Username",variant:"outlined",value:a,onChange:function(e){c(e.target.value)},style:{margin:"1rem",width:"80vmin"},required:!0}),r.a.createElement(m.a,{label:"Password",variant:"outlined",type:"password",value:v,onChange:function(e){E(e.target.value)},style:{margin:"1rem",width:"80vmin"},required:!0}),r.a.createElement(d.a,{color:"primary",variant:"contained",style:{margin:"1rem",width:"80vmin"},onClick:W},"Login"))}function I(e){var t=e.children;return r.a.createElement("div",{className:"red-background"},t)}var A=a(71),P=a.n(A);function R(){return r.a.createElement("img",{src:P.a,className:"logo"})}function D(){return r.a.createElement(I,null,r.a.createElement(R,null),r.a.createElement(p.a,{color:"secondary"}))}var L=a(13),Y=a(17);function F(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(L.b,{to:"/employees",className:"white-text-bold"}," Employees"),r.a.createElement(L.b,{to:"/cities",className:"white-text-bold"}," Cities"),r.a.createElement(L.b,{to:"/catagories",className:"white-text-bold"}," Catagories"),r.a.createElement(L.b,{to:"/suppliers",className:"white-text-bold"}," Suppliers"))}function U(){return r.a.createElement(I,null,r.a.createElement(R,null),r.a.createElement(F,null))}var W=a(136),q=a(151);function M(e){var t=e.title,a=void 0===t?"Shop Dharan":t,n=Object(Y.f)();return r.a.createElement("nav",{className:"nav-bar"},r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"26.552",height:"21.272",viewBox:"0 0 26.552 21.272",onClick:n.goBack},r.a.createElement("g",{transform:"translate(-12.948 -27.239)"},r.a.createElement("line",{x1:"24.375",transform:"translate(15.125 37.25)",fill:"none",stroke:"#fff","stroke-width":"4"}),r.a.createElement("line",{x2:"8.125",y2:"10",transform:"translate(15.125 37.25)",fill:"none",stroke:"#fff","stroke-width":"4"}),r.a.createElement("line",{y1:"10",x2:"8.125",transform:"translate(14.5 28.5)",fill:"none",stroke:"#fff","stroke-width":"4"}))),r.a.createElement("div",{className:"title"},a))}var G=a(137),B=a(134),z=a(138),J=a(139),V=a(140),H=a(141),Z=a(142),$=a(5);function K(e){return Q.apply(this,arguments)}function Q(){return(Q=Object(s.a)(u.a.mark((function e(t){var a,n,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={accessToken:t},e.next=3,fetch("/api/validate",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(a)});case 3:if((n=e.sent).ok){e.next=6;break}throw n.statusText;case 6:return e.next=8,n.json();case 8:return r=e.sent,e.abrupt("return",r.valid);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function X(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"GET",t=arguments.length>1?arguments[1]:void 0,a=arguments.length>2?arguments[2]:void 0,r=Object(n.useState)(!0),c=Object(i.a)(r,2),l=c[0],o=c[1],p=Object(n.useState)(),m=Object(i.a)(p,2),d=m[0],E=m[1],y=Object(n.useState)(""),h=Object(i.a)(y,2),g=h[0],O=h[1],j=f(),w=Object(i.a)(j,2),x=w[0],k=w[1],C=b(),_=Object(i.a)(C,1),S=_[0];return Object(n.useEffect)((function(){var n=function(){var e=Object(s.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,K(x);case 2:if(!e.sent){e.next=5;break}return e.abrupt("return");case 5:return e.next=7,v(S);case 7:t=e.sent,k(t);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),r=function(){var n=Object(s.a)(u.a.mark((function n(){var r,c,l;return u.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r={method:e,headers:{authorization:"bearer ".concat(x),"content-type":"application/json"}},a&&(r=Object($.a)(Object($.a)({},r),{},{body:JSON.stringify(a)})),n.next=4,fetch(t,r);case 4:if((c=n.sent).ok){n.next=9;break}return O(c.statusText),o(!1),n.abrupt("return");case 9:return n.next=11,c.json();case 11:l=n.sent,E(l),o(!1);case 14:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();o(!0),n().then((function(){r()})).catch((function(e){O(e),o(!1)}))}),[t,a]),{loading:l,result:d,err:g}}var ee=Object(W.a)({container:{maxWidth:1e3,width:"90%",margin:10},table:{width:"100%"},head:{backgroundColor:C.PRIMARY_RED,color:C.PRIMARY_WHITE,fontWeight:"bolder"}});function te(){var e=function(){var e=X("GET","/api/employees/getall"),t=e.loading;return{err:e.err,loading:t,result:e.result}}(),t=e.err,a=e.loading,n=e.result,c=ee(),l=Object(Y.f)();return a?r.a.createElement(p.a,{color:"primary"}):t?r.a.createElement(_,null," ",t," "):r.a.createElement(G.a,{component:B.a,className:c.container},r.a.createElement(z.a,{"aria-label":"employee table",className:c.table},r.a.createElement(J.a,{className:c.head},r.a.createElement(V.a,null,r.a.createElement(H.a,{align:"center",className:c.head},"Name"),r.a.createElement(H.a,{align:"center",className:c.head},"Admin"),r.a.createElement(H.a,{align:"center",className:c.head},"Username"),r.a.createElement(H.a,{align:"center",className:c.head},"Email"))),r.a.createElement(Z.a,null,n.map((function(e){return r.a.createElement(V.a,{key:e.employee_id,onClick:function(){l.push("employees/".concat(e.employee_id))}},r.a.createElement(H.a,{component:"th",scope:"row",align:"center"},e.employee_name),r.a.createElement(H.a,{align:"center"},e.is_admin?"True":"False"),r.a.createElement(H.a,{align:"center"},e.username),r.a.createElement(H.a,{align:"center"},e.email))})))))}var ae=a(28);function ne(){return re.apply(this,arguments)}function re(){return(re=Object(s.a)(u.a.mark((function e(){var t,a,n,r,c,l,i=arguments;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=i.length>0&&void 0!==i[0]?i[0]:"POST",a=i.length>1?i[1]:void 0,n=i.length>2?i[2]:void 0,r=sessionStorage.getItem("accessToken"),c=localStorage.getItem("refreshToken"),e.next=7,K(r);case 7:if(e.sent){e.next=13;break}return e.next=11,v(c);case 11:r=e.sent,sessionStorage.setItem("accessToken",r);case 13:return l={method:t,headers:{authorization:"bearer ".concat(r),"content-type":"application/json"}},n&&"GET"!=t&&(l=Object($.a)(Object($.a)({},l),{},{body:JSON.stringify(n)})),e.next=17,fetch(a,l);case 17:return e.abrupt("return",e.sent);case 18:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ce(e){return/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(String(e).toLowerCase())}function le(e){return e.length>=6}function ie(e){var t=e.onClickOk,a=e.onClickCancel,n=e.okLabel,c=void 0===n?"Ok":n,l=e.cancelLabel,i=void 0===l?"Cancel":l;return r.a.createElement("div",{className:"button-container",style:{width:"100%"}},r.a.createElement(d.a,{color:"primary",variant:"text",onClick:a},i),r.a.createElement(d.a,{color:"primary",variant:"contained",onClick:t},c))}function oe(e){return e.loading?r.a.createElement(p.a,{color:"primary"}):null}function ue(e){var t=e.errors,a=void 0===t?[]:t;return a.length>0?a.map((function(e,t){return r.a.createElement(_,{key:t},e.toString())})):null}var se=a(146),pe=a(143),me=a(150);function de(e){var t=e.checked,a=e.onChange,n=e.label;return r.a.createElement(pe.a,null,r.a.createElement(me.a,{control:r.a.createElement(se.a,{checked:t,onChange:a,color:"primary"}),label:n}))}var be=r.a.createContext(),fe=r.a.createContext(),ve=r.a.createContext(),Ee="setemployeename",ye="toggleisadmin",he="setusername",ge="setpassword",Oe="setrepassword",je="setemail";function we(e,t){switch(t.type){case Ee:return Object($.a)(Object($.a)({},e),{},{employee_name:t.payload});case ye:return Object($.a)(Object($.a)({},e),{},{is_admin:!e.is_admin});case je:return Object($.a)(Object($.a)({},e),{},{email:t.payload});case he:return Object($.a)(Object($.a)({},e),{},{username:t.payload});case ge:return Object($.a)(Object($.a)({},e),{},{password:t.payload});case Oe:return Object($.a)(Object($.a)({},e),{},{repassword:t.payload});default:return e}}function xe(){var e=Object(n.useContext)(be),t=Object(i.a)(e,2);return{state:t[0],dispatch:t[1]}}function ke(e){var t=e.children,a=Object(n.useReducer)(we,{employee_name:"",is_admin:!1,username:"",password:"",repassword:"",email:""}),c=Object(i.a)(a,2),l=c[0],o=c[1],u=Object(n.useState)(!1),s=Object(i.a)(u,2),p=s[0],m=s[1],d=Object(n.useState)([]),b=Object(i.a)(d,2),f=b[0],v=b[1];return r.a.createElement(be.Provider,{value:[l,o]},r.a.createElement(fe.Provider,{value:[f,v]},r.a.createElement(ve.Provider,{value:[p,m]},t)))}var Ce=Object(W.a)({button:{margin:"1rem",width:"80vmin"},wrapper:{display:"flex",flexDirection:"column",padding:"1em",alignItems:"center"}});function _e(){var e=Ce(),t=xe(),a=t.state,n=t.dispatch;return r.a.createElement(r.a.Fragment,null,r.a.createElement(de,{checked:a.is_admin,onChange:function(e){return n({type:ye})},label:"Admin"}),r.a.createElement(m.a,{label:"Name",variant:"outlined",className:e.button,value:a.employee_name,onChange:function(e){return n({type:Ee,payload:e.target.value})},required:!0}),r.a.createElement(m.a,{label:"Email",variant:"outlined",type:"email",className:e.button,value:a.email,onChange:function(e){return n({type:je,payload:e.target.value})},required:!0}),r.a.createElement(m.a,{label:"Username",variant:"outlined",className:e.button,value:a.username,onChange:function(e){return n({type:he,payload:e.target.value})},required:!0}),r.a.createElement(m.a,{label:"Password",variant:"outlined",type:"password",className:e.button,value:a.password,onChange:function(e){return n({type:ge,payload:e.target.value})},required:!0}),r.a.createElement(m.a,{label:"Retype Password",variant:"outlined",type:"password",className:e.button,value:a.repassword,onChange:function(e){return n({type:Oe,payload:e.target.value})},required:!0}))}var Se=Object(W.a)({button:{margin:"1rem",width:"80vmin"},wrapper:{display:"flex",flexDirection:"column",padding:"1em",alignItems:"center"}});function Te(e){return Ne.apply(this,arguments)}function Ne(){return(Ne=Object(s.a)(u.a.mark((function e(t){var a,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"/api/employees/add",a=Object($.a)({},t),e.next=4,ne("POST","/api/employees/add",a);case 4:if(!(n=e.sent).ok){e.next=7;break}return e.abrupt("return",n.ok);case 7:return e.next=9,n.text();case 9:throw e.sent;case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ie(e){var t=[];return ce(e.email)||(t=[].concat(Object(ae.a)(t),["Invalid Email"])),le(e.password)||(t=[].concat(Object(ae.a)(t),["Password should Be Atleast 6 digit long"])),e.password!==e.repassword&&(t=[].concat(Object(ae.a)(t),["Passwords Don't Match"])),t}function Ae(e){var t=e.handleClose;return r.a.createElement(ke,null,r.a.createElement(Pe,{handleClose:t}))}function Pe(e){var t=e.handleClose,a=function(){var e=Object(n.useContext)(ve),t=Object(i.a)(e,2);return{loading:t[0],setLoading:t[1]}}(),c=a.loading,l=a.setLoading,o=function(){var e=Object(n.useContext)(fe),t=Object(i.a)(e,2);return{err:t[0],setErr:t[1]}}(),p=o.err,m=o.setErr,d=xe().state,b=Se();function f(){return(f=Object(s.a)(u.a.mark((function e(){var a,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(m([]),!((a=Ie(d)).length>0)){e.next=5;break}return m(Object(ae.a)(a)),e.abrupt("return");case 5:return e.prev=5,l(!0),e.next=9,Te(d);case 9:if(n=e.sent,l(!1),!n){e.next=14;break}return t(),e.abrupt("return",alert("Employees Added"));case 14:throw"Failed To Add Employees";case 17:e.prev=17,e.t0=e.catch(5),l(!1),m([String(e.t0)]);case 21:case"end":return e.stop()}}),e,null,[[5,17]])})))).apply(this,arguments)}return r.a.createElement(B.a,{className:b.wrapper},r.a.createElement(oe,{loading:c}),r.a.createElement(ue,{errors:p}),r.a.createElement(_e,null),r.a.createElement(ie,{okLabel:"Add Employee",onClickOk:function(){return f.apply(this,arguments)},cancelLabel:"Cancel",onClickCancel:t}))}var Re=Object(W.a)((function(e){return{backdrop:{zIndex:e.zIndex.drawer+1,color:"#fff"}}}));function De(e){var t=e.open,a=e.handleClose,n=Re();return r.a.createElement(q.a,{open:t,className:n.backdrop},r.a.createElement(Ae,{handleClose:a}))}function Le(e){e.match,Object(Y.f)();var t=Object(n.useState)(!1),a=Object(i.a)(t,2),c=a[0],l=a[1];return r.a.createElement(j,null,r.a.createElement(M,{title:"Employees"}),r.a.createElement(De,{open:c,handleClose:function(){l(!1)}}),r.a.createElement(d.a,{color:"primary",onClick:function(){l(!0)}},"Add New"),r.a.createElement(te,null))}var Ye=r.a.createContext(),Fe=r.a.createContext(),Ue=r.a.createContext(),We="setall",qe="setname",Me="setusername",Ge="setemail",Be="toggleadmin";function ze(e,t){switch(t.type){case We:return Object($.a)({},t.payload);case qe:return Object($.a)(Object($.a)({},e),{},{employee_name:t.payload});case Me:return Object($.a)(Object($.a)({},e),{},{username:t.payload});case Ge:return Object($.a)(Object($.a)({},e),{},{email:t.payload});case Be:return Object($.a)(Object($.a)({},e),{},{is_admin:!e.is_admin});default:return e}}function Je(){var e=Object(n.useContext)(Ye),t=Object(i.a)(e,2);return{state:t[0],dispatch:t[1]}}function Ve(e){var t=e.employee_id,a=e.children,c="/api/employees/get?employee_id=".concat(t),l=Object(n.useReducer)(ze,{employee_name:"",is_admin:!1,username:"",email:""}),o=Object(i.a)(l,2),p=o[0],m=o[1],d=Object(n.useState)(!1),b=Object(i.a)(d,2),f=b[0],v=b[1],E=Object(n.useState)(""),y=Object(i.a)(E,2),h=y[0],g=y[1];return Object(n.useEffect)((function(){(function(){var e=Object(s.a)(u.a.mark((function e(){var t,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return v(!0),e.next=3,ne("GET",c);case 3:if((t=e.sent).ok){e.next=6;break}throw t.statusText;case 6:return e.next=8,t.json();case 8:a=e.sent,m({type:We,payload:a}),v(!1);case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()().catch((function(e){v(!1),g(e)}))}),[c]),r.a.createElement(Ye.Provider,{value:[p,m]},r.a.createElement(Fe.Provider,{value:[f,v]},r.a.createElement(Ue.Provider,{value:[h,g]},a)))}var He=Object(W.a)({button:{margin:"1rem",width:"80vmin"}});function Ze(){var e=He(),t=Je(),a=t.state,n=t.dispatch;return r.a.createElement(r.a.Fragment,null,r.a.createElement(m.a,{label:"Name",variant:"outlined",className:e.button,value:a.employee_name,onChange:function(e){return n({type:qe,payload:e.target.value})},required:!0}),r.a.createElement(m.a,{label:"Username",variant:"outlined",className:e.button,value:a.username,onChange:function(e){return n({type:Me,payload:e.target.value})},required:!0}),r.a.createElement(m.a,{label:"Email",variant:"outlined",type:"Email",className:e.button,value:a.email,onChange:function(e){return n({type:Ge,payload:e.target.value})},required:!0}),r.a.createElement(de,{label:"Admin",checked:a.is_admin,onChange:function(e){return n({type:Be})}}))}Object(W.a)({button:{margin:"1rem",width:"80vmin"}});function $e(e){var t=e.employee_id;return r.a.createElement(Ve,{employee_id:t},r.a.createElement(Ke,{employee_id:t}))}function Ke(e){var t=e.employee_id,a=function(){var e=Object(n.useContext)(Fe),t=Object(i.a)(e,2);return{loading:t[0],setLoading:t[1]}}().loading,c=function(){var e=Object(n.useContext)(Ue),t=Object(i.a)(e,2);return{err:t[0],setErr:t[1]}}().err,l=Je().state,o=Object(Y.f)(),p=function(){var e=Object(s.a)(u.a.mark((function e(){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(window.confirm("Are You Sure You Want To Delete this Account?")){e.next=3;break}return e.abrupt("return");case 3:return"/api/employees/delete",a={employee_id:t},e.next=7,ne("DELETE","/api/employees/delete",a);case 7:if(!e.sent.ok){e.next=12;break}return alert("Employee Deleted"),o.goBack(),e.abrupt("return");case 12:alert("Failed To Delete");case 13:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),m=function(){var e=Object(s.a)(u.a.mark((function e(){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(window.confirm("Are You Sure You Want To Update")){e.next=3;break}return e.abrupt("return");case 3:return a=Object($.a)(Object($.a)({},l),{},{employee_id:t}),"/api/employees/update",e.next=7,ne("PUT","/api/employees/update",a);case 7:if(!e.sent.ok){e.next=11;break}return alert("Employee Updated"),e.abrupt("return");case 11:alert("Failed To Upload");case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return a?r.a.createElement(oe,{loading:!0}):c?r.a.createElement(ue,{errors:[c]}):r.a.createElement(r.a.Fragment,null,r.a.createElement(ie,{onClickOk:m,okLabel:"Update",onClickCancel:p,cancelLabel:"Delete"}),r.a.createElement(Ze,null))}Object(W.a)({button:{margin:"1rem",width:"80vmin"}});function Qe(){var e=Object(Y.g)().id;return r.a.createElement(j,null,r.a.createElement(M,{title:"Employee"}),r.a.createElement($e,{employee_id:e}))}function Xe(e){var t=e.match;return r.a.createElement(L.a,null,r.a.createElement(Y.c,null,r.a.createElement(Y.a,{exact:!0,path:"".concat(t.url,"/"),component:Le}),r.a.createElement(Y.a,{path:"".concat(t.url,"/:id"),component:Qe})))}function et(){var e=X("GET","/api/cities/getall");return{loading:e.loading,result:e.result,err:e.err}}function tt(e){return at.apply(this,arguments)}function at(){return(at=Object(s.a)(u.a.mark((function e(t){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"/api/cities/add",e.next=3,ne("POST","/api/cities/add",{city_name:t});case 3:return a=e.sent,e.abrupt("return",a.ok);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var nt=Object(W.a)({container:{maxWidth:1e3,width:"90%",margin:10},table:{width:"100%"},head:{backgroundColor:C.PRIMARY_RED,color:C.PRIMARY_WHITE,fontWeight:"bolder"}});function rt(e){var t=e.match,a=et(),n=a.loading,c=a.result,l=a.err,i=nt(),o=Object(Y.f)(),m=function(){var e=Object(s.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=window.prompt("City Name")){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,tt(t);case 5:if(!e.sent){e.next=9;break}return alert("City Added"),e.abrupt("return");case 9:alert("Failed To Add City");case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),b=function(){return r.a.createElement(G.a,{component:B.a,className:i.container},r.a.createElement(z.a,{"aria-label":"employee table",className:i.table},r.a.createElement(J.a,{className:i.head},r.a.createElement(V.a,null,r.a.createElement(H.a,{align:"center",className:i.head},"No."),r.a.createElement(H.a,{align:"center",className:i.head},"City Name"))),r.a.createElement(Z.a,null,c.map((function(e,a){return r.a.createElement(V.a,{key:e.city_id,onClick:function(){o.push("".concat(t.url,"/").concat(e.city_id))}},r.a.createElement(H.a,{component:"th",scope:"row",align:"center"},a+1),r.a.createElement(H.a,{align:"center"},e.city_name))})))))},f=function(){return n?r.a.createElement(p.a,{color:"primary"}):l?r.a.createElement(_,null," ",l," "):r.a.createElement(b,null)};return r.a.createElement(j,null,r.a.createElement(M,{title:"Cities"}),r.a.createElement(d.a,{color:"primary",onClick:m}," Add City "),r.a.createElement(f,null))}var ct=a(24);var lt=Object(W.a)({container:{maxWidth:1e3,width:"90%",margin:10},table:{width:"100%"},head:{backgroundColor:C.PRIMARY_RED,color:C.PRIMARY_WHITE,fontWeight:"bolder"}});function it(e){var t=function(e){var t=e.visible,a=e.city_id,n=e.catagory_id,r=e.supplier_name,c=new URLSearchParams;a&&c.append("city_id",a),null!=t&&c.append("visible",t),n&&c.append("catagory_id",n),r&&c.append("supplier_name",r);var l=X("GET","/api/suppliers/getall?".concat(c));return{err:l.err,loading:l.loading,result:l.result}}({visible:e.visible,supplier_name:e.supplier_name,catagory_id:e.catagory_id,city_id:e.city_id}),a=t.err,n=t.loading,c=t.result,l=lt(),i=Object(Y.f)();return n?r.a.createElement(p.a,{color:"primary"}):a?r.a.createElement(_,null," ",a," "):r.a.createElement(G.a,{component:B.a,className:l.container},r.a.createElement(z.a,{"aria-label":"employee table",className:l.table},r.a.createElement(J.a,{className:l.head},r.a.createElement(V.a,null,r.a.createElement(H.a,{align:"center",className:l.head},"Name"),r.a.createElement(H.a,{align:"center",className:l.head},"Description"),r.a.createElement(H.a,{align:"center",className:l.head},"Number"),r.a.createElement(H.a,{align:"center",className:l.head},"Visible"))),r.a.createElement(Z.a,null,c.map((function(e){return r.a.createElement(V.a,{key:e.supplier_id,onClick:function(){i.push("/suppliers/".concat(e.supplier_id))}},r.a.createElement(H.a,{component:"th",scope:"row",align:"center"},e.supplier_name),r.a.createElement(H.a,{align:"center"},e.supplier_description),r.a.createElement(H.a,{align:"center"},e.contact_number),r.a.createElement(H.a,{align:"center"},e.visible?"True":"False"))})))))}function ot(e){return ut.apply(this,arguments)}function ut(){return(ut=Object(s.a)(u.a.mark((function e(t){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"/api/cities/delete",e.next=3,ne("DELETE","/api/cities/delete",{city_id:t});case 3:return a=e.sent,e.abrupt("return",a.ok);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function st(e,t){return pt.apply(this,arguments)}function pt(){return(pt=Object(s.a)(u.a.mark((function e(t,a){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"/api/cities/update",e.next=3,ne("PUT","/api/cities/update",{city_id:t,city_name:a});case 3:return n=e.sent,e.abrupt("return",n.ok);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var mt=Object(W.a)({button:{margin:"1rem",width:"80vmin"}});function dt(){var e=Object(Y.g)().id,t="/api/cities/get?city_id=".concat(e),a=mt(),c=Object(n.useState)(!1),l=Object(i.a)(c,2),o=l[0],b=l[1],f=Object(n.useState)(""),v=Object(i.a)(f,2),E=v[0],y=v[1],h=Object(n.useState)(""),g=Object(i.a)(h,2),O=g[0],w=g[1],x=Object(n.useState)("City"),k=Object(i.a)(x,2),C=k[0],S=k[1],T=Object(Y.f)();Object(n.useEffect)((function(){(function(){var e=Object(s.a)(u.a.mark((function e(){var a,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return b(!0),e.next=3,ne("GET",t);case 3:return a=e.sent,e.next=6,a.json();case 6:n=e.sent,w(n.city_name),b(!1),S(n.city_name);case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()().catch((function(e){return y(e)}))}),[]);var N=function(){var t,n=function(){var t=Object(s.a)(u.a.mark((function t(){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(window.confirm("Are You Sure You Want To Delete This City?")){t.next=3;break}return t.abrupt("return");case 3:return t.next=5,ot(e);case 5:if(!t.sent){t.next=10;break}return window.alert("City Deleted"),T.goBack(),t.abrupt("return");case 10:window.alert("Failed to Delete");case 11:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),c=function(){var t=Object(s.a)(u.a.mark((function t(){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(window.confirm("Are You Sure You Want To Update")){t.next=3;break}return t.abrupt("return");case 3:return t.next=5,st(e,O);case 5:if(!t.sent){t.next=10;break}return window.alert("City Updated"),T.goBack(),t.abrupt("return");case 10:window.alert("Failed To Update");case 11:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return r.a.createElement("div",{className:"button-container"},r.a.createElement(d.a,{color:"primary",onClick:n},"Delete"),r.a.createElement(m.a,(t={value:O,label:"Name",variant:"outlined",className:a.button},Object(ct.a)(t,"value",O),Object(ct.a)(t,"autoFocus",!0),Object(ct.a)(t,"onChange",(function(e){w(e.target.value)})),Object(ct.a)(t,"required",!0),t)),r.a.createElement(d.a,{color:"primary",variant:"contained",onClick:c},"Update"))},I=function(){return o?r.a.createElement(p.a,{color:"primary"}):E?r.a.createElement(_,null," ",E," "):r.a.createElement(N,null)};return r.a.createElement(j,null,r.a.createElement(M,{title:C}),r.a.createElement(I,null),r.a.createElement("h2",null," Suppliers "),r.a.createElement(it,{city_id:e}))}function bt(e){var t=e.match;return r.a.createElement(L.a,null,r.a.createElement(Y.c,null,r.a.createElement(Y.a,{exact:!0,path:"".concat(t.url,"/"),component:rt}),r.a.createElement(Y.a,{exact:!0,path:"".concat(t.url,"/:id"),component:dt})))}function ft(){var e=X("GET","/api/catagories/getall");return{loading:e.loading,result:e.result,err:e.err}}function vt(e){return Et.apply(this,arguments)}function Et(){return(Et=Object(s.a)(u.a.mark((function e(t){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"/api/catagories/add",e.next=3,ne("POST","/api/catagories/add",{catagory_name:t});case 3:return a=e.sent,e.abrupt("return",a.ok);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var yt=Object(W.a)({container:{maxWidth:1e3,width:"90%",margin:10},table:{width:"100%"},head:{backgroundColor:C.PRIMARY_RED,color:C.PRIMARY_WHITE,fontWeight:"bolder"}});function ht(e){var t=e.match,a=ft(),n=a.loading,c=a.result,l=a.err,i=yt(),o=Object(Y.f)(),m=function(){var e=Object(s.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=window.prompt("Catagory Name")){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,vt(t);case 5:if(!e.sent){e.next=9;break}return alert("Catagory Added"),e.abrupt("return");case 9:alert("Failed To Add Catagory");case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),b=function(){return r.a.createElement(G.a,{component:B.a,className:i.container},r.a.createElement(z.a,{"aria-label":"employee table",className:i.table},r.a.createElement(J.a,{className:i.head},r.a.createElement(V.a,null,r.a.createElement(H.a,{align:"center",className:i.head},"No."),r.a.createElement(H.a,{align:"center",className:i.head},"Catagory Name"))),r.a.createElement(Z.a,null,c.map((function(e,a){return r.a.createElement(V.a,{key:e.catagory_id,onClick:function(){o.push("".concat(t.url,"/").concat(e.catagory_id))}},r.a.createElement(H.a,{component:"th",scope:"row",align:"center"},a+1),r.a.createElement(H.a,{align:"center"},e.catagory_name))})))))},f=function(){return n?r.a.createElement(p.a,{color:"primary"}):l?r.a.createElement(_,null," ",l," "):r.a.createElement(b,null)};return r.a.createElement(j,null,r.a.createElement(M,{title:"Catagories"}),r.a.createElement(d.a,{color:"primary",onClick:m}," Add Catagory "),r.a.createElement(f,null))}function gt(e){return Ot.apply(this,arguments)}function Ot(){return(Ot=Object(s.a)(u.a.mark((function e(t){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"/api/catagories/delete",e.next=3,ne("DELETE","/api/catagories/delete",{catagory_id:t});case 3:return a=e.sent,e.abrupt("return",a.ok);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function jt(e,t){return wt.apply(this,arguments)}function wt(){return(wt=Object(s.a)(u.a.mark((function e(t,a){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"/api/catagories/update",e.next=3,ne("PUT","/api/catagories/update",{catagory_id:t,catagory_name:a});case 3:return n=e.sent,e.abrupt("return",n.ok);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var xt=Object(W.a)({button:{margin:"1rem",width:"80vmin"}});function kt(){var e=Object(Y.g)().id,t="/api/catagories/get?catagory_id=".concat(e),a=xt(),c=Object(n.useState)(!1),l=Object(i.a)(c,2),o=l[0],b=l[1],f=Object(n.useState)(""),v=Object(i.a)(f,2),E=v[0],y=v[1],h=Object(n.useState)(""),g=Object(i.a)(h,2),O=g[0],w=g[1],x=Object(n.useState)("Catagory"),k=Object(i.a)(x,2),C=k[0],S=k[1],T=Object(Y.f)();Object(n.useEffect)((function(){(function(){var e=Object(s.a)(u.a.mark((function e(){var a,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return b(!0),e.next=3,ne("GET",t);case 3:return a=e.sent,e.next=6,a.json();case 6:n=e.sent,w(n.catagory_name),b(!1),S(n.catagory_name);case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()().catch((function(e){return y(e)}))}),[]);var N=function(){var t,n=function(){var t=Object(s.a)(u.a.mark((function t(){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(window.confirm("Are You Sure You Want To Delete This Catagory?")){t.next=3;break}return t.abrupt("return");case 3:return t.next=5,gt(e);case 5:if(!t.sent){t.next=10;break}return window.alert("Catagory Deleted"),T.goBack(),t.abrupt("return");case 10:window.alert("Failed to Delete");case 11:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),c=function(){var t=Object(s.a)(u.a.mark((function t(){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(window.confirm("Are You Sure You Want To Update")){t.next=3;break}return t.abrupt("return");case 3:return t.next=5,jt(e,O);case 5:if(!t.sent){t.next=10;break}return window.alert("Catagory Updated"),T.goBack(),t.abrupt("return");case 10:window.alert("Failed To Update");case 11:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return r.a.createElement("div",{className:"button-container"},r.a.createElement(d.a,{color:"primary",onClick:n},"Delete"),r.a.createElement(m.a,(t={value:O,label:"Name",variant:"outlined",className:a.button},Object(ct.a)(t,"value",O),Object(ct.a)(t,"autoFocus",!0),Object(ct.a)(t,"onChange",(function(e){w(e.target.value)})),Object(ct.a)(t,"required",!0),t)),r.a.createElement(d.a,{color:"primary",variant:"contained",onClick:c},"Update"))},I=function(){return o?r.a.createElement(p.a,{color:"primary"}):E?r.a.createElement(_,null," ",E," "):r.a.createElement(N,null)};return r.a.createElement(j,null,r.a.createElement(M,{title:C}),r.a.createElement(I,null),r.a.createElement("h2",null," Suppliers "),r.a.createElement(it,{catagory_id:e}))}function Ct(e){var t=e.match;return r.a.createElement(L.a,null,r.a.createElement(Y.c,null,r.a.createElement(Y.a,{exact:!0,path:"".concat(t.url,"/"),component:ht}),r.a.createElement(Y.a,{exact:!0,path:"".concat(t.url,"/:id"),component:kt})))}var _t=a(133),St=a(149),Tt=a(145),Nt=a(152),It=Object(W.a)((function(e){return{formControl:{margin:e.spacing(1),minWidth:120}}}));function At(e){var t=e.label,a=e.options,c=void 0===a?[]:a,l=e.selection,o=void 0===l?{value:"All"}:l,u=e.setSelection,s=It(),p=Object(n.useState)(o.id),m=Object(i.a)(p,2),d=m[0],b=m[1];return r.a.createElement(_t.a,{className:s.formControl},r.a.createElement(St.a,{id:"demo-simple-select-label"},t),r.a.createElement(Tt.a,{labelId:t,value:d,onChange:function(e){b(e.target.value),u(e.target.value)}},o.id?null:r.a.createElement(Nt.a,{value:o.id},String(o.value)),c.map((function(e){return r.a.createElement(Nt.a,{key:e.id,value:e.id},String(e.value))}))))}var Pt=r.a.createContext(),Rt=r.a.createContext(),Dt=r.a.createContext(),Lt="supplier",Yt="city",Ft="email",Ut="description",Wt="togglevisibility",qt="password",Mt="repassword",Gt="catagory",Bt="contact";function zt(e,t){switch(t.type){case Lt:return Object($.a)(Object($.a)({},e),{},{supplier_name:t.payload});case Yt:return Object($.a)(Object($.a)({},e),{},{city_id:t.payload});case Ft:return Object($.a)(Object($.a)({},e),{},{email_id:t.payload});case Wt:return Object($.a)(Object($.a)({},e),{},{visible:!e.visible});case qt:return Object($.a)(Object($.a)({},e),{},{password:t.payload});case Ut:return Object($.a)(Object($.a)({},e),{},{supplier_description:t.payload});case Mt:return Object($.a)(Object($.a)({},e),{},{repassword:t.payload});case Gt:return Object($.a)(Object($.a)({},e),{},{catagory_id:t.payload});case Bt:return Object($.a)(Object($.a)({},e),{},{contact_number:t.payload});default:return e}}function Jt(){var e=Object(n.useContext)(Pt),t=Object(i.a)(e,2);return{state:t[0],dispatch:t[1]}}function Vt(e){var t=e.children,a=Object(n.useReducer)(zt,{supplier_name:"",city_id:"",email_id:"",supplier_description:"",visible:!1,password:"",repassword:"",catagory_id:"",contact_number:""}),c=Object(i.a)(a,2),l=c[0],o=c[1],u=Object(n.useState)(!1),s=Object(i.a)(u,2),p=s[0],m=s[1],d=Object(n.useState)([]),b=Object(i.a)(d,2),f=b[0],v=b[1];return r.a.createElement(Pt.Provider,{value:[l,o]},r.a.createElement(Dt.Provider,{value:[f,v]},r.a.createElement(Rt.Provider,{value:[p,m]},t)))}var Ht=Object(W.a)({button:{margin:"1rem",width:"80vmin"},wrapper:{display:"flex",flexDirection:"column",padding:"1em",paddingBottom:"1em",height:"80%",alignItems:"center",overflowY:"scroll"},fullcontainer:{display:"flex",width:"100%",justifyContent:"space-evenly"}});function Zt(){var e=Ht(),t=Jt(),a=t.state,n=t.dispatch,c=ft(),l=c.loading,i=c.result,o=(c.err,et()),u=o.loading,s=o.result;o.err;return u||l?r.a.createElement(oe,{loading:!0}):r.a.createElement(r.a.Fragment,null,r.a.createElement(de,{checked:a.visible,onChange:function(e){return n({type:Wt})},label:"Visible"}),r.a.createElement(m.a,{label:"Name",variant:"outlined",className:e.button,value:a.supplier_name,onChange:function(e){return n({type:Lt,payload:e.target.value})},required:!0}),r.a.createElement(m.a,{label:"Email",variant:"outlined",type:"email",className:e.button,value:a.email_id,onChange:function(e){return n({type:Ft,payload:e.target.value})},required:!0}),r.a.createElement(m.a,{label:"Description",variant:"outlined",multiline:!0,rows:5,className:e.button,value:a.supplier_description,onChange:function(e){return n({type:Ut,payload:e.target.value})},required:!0}),r.a.createElement(m.a,{label:"Password",variant:"outlined",type:"password",className:e.button,value:a.password,onChange:function(e){return n({type:qt,payload:e.target.value})},required:!0}),r.a.createElement(m.a,{label:"Retype Password",variant:"outlined",type:"password",className:e.button,value:a.repassword,onChange:function(e){return n({type:Mt,payload:e.target.value})},required:!0}),r.a.createElement(m.a,{label:"Contact Number",variant:"outlined",type:"tel",className:e.button,value:a.contact_number,onChange:function(e){return n({type:Bt,payload:e.target.value})},required:!0}),r.a.createElement("div",{className:e.fullcontainer},r.a.createElement(At,{label:"City",setSelection:function(e){n({type:Yt,payload:e})},options:s.map((function(e){return{id:e.city_id,value:e.city_name}})),selection:{id:s[0].city_id,value:s[0].city_name}}),r.a.createElement(At,{label:"Catagory",setSelection:function(e){n({type:Gt,payload:e})},options:i.map((function(e){return{id:e.catagory_id,value:e.catagory_name}})),selection:{id:i[0].catagory_id,value:i[0].catagory_name}})))}var $t=Object(W.a)({button:{margin:"1rem",width:"80vmin"},wrapper:{display:"flex",flexDirection:"column",padding:"1em",height:"80%",alignItems:"center",overflowY:"scroll"},inside:{display:"flex",flexDirection:"column",margin:"0.5em",alignItems:"center",padding:"0.5em"}});function Kt(e){return Qt.apply(this,arguments)}function Qt(){return(Qt=Object(s.a)(u.a.mark((function e(t){var a,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"/api/suppliers/add",a=Object($.a)({},t),e.next=4,ne("POST","/api/suppliers/add",a);case 4:if(!(n=e.sent).ok){e.next=7;break}return e.abrupt("return",n.ok);case 7:return e.next=9,n.text();case 9:throw e.sent;case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Xt(e){var t=[];return ce(e.email_id)||(t=[].concat(Object(ae.a)(t),["Invalid Email"])),le(e.password)||(t=[].concat(Object(ae.a)(t),["Password should Be Atleast 6 digit long"])),e.password!==e.repassword&&(t=[].concat(Object(ae.a)(t),["Passwords Don't Match"])),t}function ea(e){var t=e.handleClose;return r.a.createElement(Vt,null,r.a.createElement(ta,{handleClose:t}))}function ta(e){var t=e.handleClose,a=$t(),c=Jt().state,l=function(){var e=Object(n.useContext)(Rt),t=Object(i.a)(e,2);return{loading:t[0],setLoading:t[1]}}(),o=l.loading,p=l.setLoading,m=function(){var e=Object(n.useContext)(Dt),t=Object(i.a)(e,2);return{err:t[0],setErr:t[1]}}(),d=m.err,b=m.setErr,f=function(){var e=Object(s.a)(u.a.mark((function e(){var a,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(b([]),!((a=Xt(c)).length>0)){e.next=5;break}return b(Object(ae.a)(a)),e.abrupt("return");case 5:return e.prev=5,p(!0),e.next=9,Kt(c);case 9:if(n=e.sent,p(!1),!n){e.next=14;break}return t(),e.abrupt("return",alert("Suppliers Added"));case 14:throw"Failed To Add Suppliers";case 17:e.prev=17,e.t0=e.catch(5),p(!1),b([String(e.t0)]);case 21:case"end":return e.stop()}}),e,null,[[5,17]])})));return function(){return e.apply(this,arguments)}}();return r.a.createElement(B.a,{className:a.wrapper},r.a.createElement("div",{className:a.inside},r.a.createElement(oe,{loading:o}),r.a.createElement(ue,{errors:d}),r.a.createElement(Zt,null),r.a.createElement(ie,{okLabel:"Add Supplier",onClickOk:f,cancelLabel:"Cancel",onClickCancel:t})))}var aa=Object(W.a)((function(e){return{wrapper:{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"center",flexWrap:"wrap",gap:"1em"},backdrop:{zIndex:e.zIndex.drawer+1,color:"#fff"}}}));function na(e){var t=e.open,a=e.handleClose,n=aa();return r.a.createElement(q.a,{open:t,className:n.backdrop},r.a.createElement(ea,{handleClose:a}))}var ra="setvisibility",ca="setsuppliername",la="setcatagory",ia="setcity";function oa(e,t){switch(t.type){case ra:return Object($.a)(Object($.a)({},e),{},{visible:t.payload});case ca:return Object($.a)(Object($.a)({},e),{},{supplier_name:t.payload});case la:return Object($.a)(Object($.a)({},e),{},{catagory_id:t.payload});case ia:return Object($.a)(Object($.a)({},e),{},{city_id:t.payload});default:return e}}function ua(e){e.state;var t=e.dispatch,a=aa(),c=ft(),l=c.loading,o=c.result,u=c.err,s=et(),b=s.loading,f=s.result,v=s.err,E=Object(n.useState)(""),y=Object(i.a)(E,2),h=y[0],g=y[1];return l||b?r.a.createElement(p.a,{color:"primary"}):u||v?r.a.createElement(_,null," Something Went Wrong "):r.a.createElement("div",{className:a.wrapper},r.a.createElement(At,{label:"City",options:f.map((function(e){return{id:e.city_id,value:e.city_name}})),setSelection:function(e){return t({type:ia,payload:e})}}),r.a.createElement(At,{label:"Catagory",options:o.map((function(e){return{id:e.catagory_id,value:e.catagory_name}})),setSelection:function(e){return t({type:la,payload:e})}}),r.a.createElement(At,{label:"Visible",options:[{id:!0,value:"True"},{id:!1,value:"False"}],setSelection:function(e){return t({type:ra,payload:e})}}),r.a.createElement("div",{className:a.wrapper},r.a.createElement(m.a,{variant:"outlined",value:h,label:"Name",onChange:function(e){return g(e.target.value)},type:"search"}),r.a.createElement(d.a,{color:"primary",onClick:function(){return t({type:ca,payload:h})}},"Search")))}function sa(){var e=Object(n.useReducer)(oa,{visible:null,supplier_name:"",catagory_id:"",city_id:""}),t=Object(i.a)(e,2),a=t[0],c=t[1],l=Object(n.useState)(!1),o=Object(i.a)(l,2),u=o[0],s=o[1];return r.a.createElement(j,null,r.a.createElement(M,null),r.a.createElement(ua,{state:a,dispatch:c}),r.a.createElement(na,{open:u,handleClose:function(){s(!1)}}),r.a.createElement(d.a,{color:"primary",onClick:function(){s(!0)}},"Add New"),r.a.createElement(it,{visible:a.visible,supplier_name:a.supplier_name,catagory_id:a.catagory_id,city_id:a.city_id}))}var pa=r.a.createContext(),ma=r.a.createContext(),da=r.a.createContext(),ba={SETALL:"setall",SETSUPPLIER:"setsupplier",SETCITY:"setcity",SETEMAIL:"setemail",TOGGLEVISIBILITY:"togglevisible",SETCATAGORY:"setcatagory",SETCONTACT:"setcontact",SETDESCRIPTION:"setdescription"};function fa(e,t){switch(t.type){case ba.SETALL:return Object($.a)({},t.payload);case ba.SETSUPPLIER:return Object($.a)(Object($.a)({},e),{},{supplier_name:t.payload});case ba.SETCITY:return Object($.a)(Object($.a)({},e),{},{city_id:t.payload});case ba.SETEMAIL:return Object($.a)(Object($.a)({},e),{},{email_id:t.payload});case ba.TOGGLEVISIBILITY:return Object($.a)(Object($.a)({},e),{},{visible:!e.visible});case ba.SETDESCRIPTION:return Object($.a)(Object($.a)({},e),{},{supplier_description:t.payload});case ba.SETCATAGORY:return Object($.a)(Object($.a)({},e),{},{catagory_id:t.payload});case ba.SETCONTACT:return Object($.a)(Object($.a)({},e),{},{contact_number:t.payload});default:return e}}function va(){var e=Object(n.useContext)(pa),t=Object(i.a)(e,2);return{state:t[0],dispatch:t[1]}}function Ea(e){var t=e.supplier_id,a=e.children,c="/api/suppliers/get?supplier_id=".concat(t),l=Object(n.useReducer)(fa,{supplier_name:"",image_id:"",city_id:"",email_id:"",supplier_description:"",visible:!0,catagory_id:"",contact_number:""}),o=Object(i.a)(l,2),p=o[0],m=o[1],d=Object(n.useState)(!1),b=Object(i.a)(d,2),f=b[0],v=b[1],E=Object(n.useState)(""),y=Object(i.a)(E,2),h=y[0],g=y[1];return Object(n.useEffect)((function(){(function(){var e=Object(s.a)(u.a.mark((function e(){var t,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return v(!0),e.next=3,ne("GET",c);case 3:if((t=e.sent).ok){e.next=6;break}throw t.statusText;case 6:return e.next=8,t.json();case 8:a=e.sent,m({type:ba.SETALL,payload:a}),v(!1);case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()().catch((function(e){v(!1),g(e)}))}),[t]),r.a.createElement(pa.Provider,{value:[p,m]},r.a.createElement(ma.Provider,{value:[f,v]},r.a.createElement(da.Provider,{value:[h,g]},a)))}var ya=Object(W.a)({button:{margin:"1rem",width:"80vmin"},wrapper:{display:"flex",flexDirection:"column",padding:"1em",paddingBottom:"1em",height:"80%",alignItems:"center",overflowY:"scroll"},fullcontainer:{display:"flex",width:"100%",justifyContent:"space-evenly"}});function ha(){var e=ya(),t=va(),a=t.state,n=t.dispatch,c=ft(),l=c.loading,i=c.result,o=(c.err,et()),u=o.loading,s=o.result;o.err;return u||l?r.a.createElement(oe,{loading:!0}):r.a.createElement(r.a.Fragment,null,r.a.createElement(de,{checked:a.visible,onChange:function(e){return n({type:ba.TOGGLEVISIBILITY})},label:"Visible"}),r.a.createElement(m.a,{label:"Name",variant:"outlined",className:e.button,value:a.supplier_name,onChange:function(e){return n({type:ba.SETSUPPLIER,payload:e.target.value})},required:!0}),r.a.createElement(m.a,{label:"Email",variant:"outlined",type:"email",className:e.button,value:a.email_id,onChange:function(e){return n({type:ba.SETEMAIL,payload:e.target.value})},required:!0}),r.a.createElement(m.a,{label:"Description",variant:"outlined",multiline:!0,rows:5,className:e.button,value:a.supplier_description,onChange:function(e){return n({type:ba.SETDESCRIPTION,payload:e.target.value})},required:!0}),r.a.createElement(m.a,{label:"Contact Number",variant:"outlined",type:"tel",className:e.button,value:a.contact_number,onChange:function(e){return n({type:ba.SETCONTACTNUM,payload:e.target.value})},required:!0}),r.a.createElement("div",{className:e.fullcontainer},r.a.createElement(At,{label:"City",setSelection:function(e){n({type:ba.SETCITY,payload:e})},options:s.map((function(e){return{id:e.city_id,value:e.city_name}})),selection:{id:a.city_id}}),r.a.createElement(At,{label:"Catagory",setSelection:function(e){n({type:ba.SETCATAGORY,payload:e})},options:i.map((function(e){return{id:e.catagory_id,value:e.catagory_name}})),selection:{id:a.catagory_id}})))}function ga(e){var t=e.supplier_id;return r.a.createElement(Ea,{supplier_id:t},r.a.createElement(Oa,{supplier_id:t}))}function Oa(e){var t=e.supplier_id,a=Object(Y.f)(),c=va().state,l=function(){var e=Object(s.a)(u.a.mark((function e(){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(window.confirm("Are You Sure You Want To Delete this Account?")){e.next=3;break}return e.abrupt("return");case 3:return"/api/suppliers/delete",n={supplier_id:t},e.next=7,ne("DELETE","/api/suppliers/delete",n);case 7:if(!e.sent.ok){e.next=12;break}return alert("Supplier Deleted"),a.goBack(),e.abrupt("return");case 12:alert("Failed To Delete");case 13:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),o=function(){var e=Object(s.a)(u.a.mark((function e(){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(window.confirm("Are You Sure You Want To Update")){e.next=3;break}return e.abrupt("return");case 3:return a=Object($.a)(Object($.a)({},c),{},{supplier_id:t}),"/api/suppliers/update",e.next=7,ne("PUT","/api/suppliers/update",a);case 7:if(!e.sent.ok){e.next=11;break}return alert("Supplier Updated"),e.abrupt("return");case 11:alert("Failed To Update");case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),p=function(){var e=Object(n.useContext)(ma),t=Object(i.a)(e,2);return{loading:t[0],setLoading:t[1]}}().loading,m=function(){var e=Object(n.useContext)(da),t=Object(i.a)(e,2);return{err:t[0],setErr:t[1]}}().err;return p?r.a.createElement(oe,{loading:!0}):m?r.a.createElement(ue,{errors:[m]}):r.a.createElement(r.a.Fragment,null,r.a.createElement(ie,{okLabel:"Update",cancelLabel:"Delete",onClickOk:o,onClickCancel:l}),r.a.createElement(ha,null))}function ja(){var e=Object(Y.g)().id;return r.a.createElement(j,null,r.a.createElement(M,{title:"Supplier"}),r.a.createElement(ga,{supplier_id:e}))}function wa(e){var t=e.match;return r.a.createElement(L.a,null,r.a.createElement(Y.c,null,r.a.createElement(Y.a,{exact:!0,path:"".concat(t.url,"/"),component:sa}),r.a.createElement(Y.a,{exact:!0,path:"".concat(t.url,"/:id"),component:ja})))}function xa(){return r.a.createElement(L.a,{basename:"/admin"},r.a.createElement(Y.c,null,r.a.createElement(Y.a,{exact:!0,path:"".concat("/admin","/"),component:U}),r.a.createElement(Y.a,{path:"".concat("/admin","/employees"),component:Xe}),r.a.createElement(Y.a,{path:"".concat("/admin","/cities"),component:bt}),r.a.createElement(Y.a,{path:"".concat("/admin","/catagories"),component:Ct}),r.a.createElement(Y.a,{path:"".concat("/admin","/suppliers"),component:wa})))}function ka(){var e=Object(n.useContext)(y),t=g(),a=Object(i.a)(t,1)[0];return e?r.a.createElement(D,null):a?r.a.createElement(xa,null):r.a.createElement(N,null)}var Ca=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(ka,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var _a=a(72),Sa=a(144),Ta=Object(_a.a)({palette:{primary:{main:C.PRIMARY_RED},secondary:{main:C.PRIMARY_WHITE}}});l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(Sa.a,{theme:Ta},r.a.createElement(O,null,r.a.createElement(Ca,null)))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[79,1,2]]]);
//# sourceMappingURL=main.0ef14504.chunk.js.map